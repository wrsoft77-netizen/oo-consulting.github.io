<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LLM Text-to-SQL ì•„í‚¤í…ì²˜ ì„¤ê³„ - ìì—°ì–´ ì§ˆë¬¸ì„ SQLë¡œ ë³€í™˜í•˜ì—¬ ì •í˜• ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” RAG í•˜ì´ë¸Œë¦¬ë“œ ì‹œìŠ¤í…œ">
    <meta name="keywords" content="Text-to-SQL, RAG, AI, SQL, LLM, ìì—°ì–´ ì¿¼ë¦¬, PostgreSQL, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>RAG ì‹œìŠ¤í…œ | Text-to-SQL ì•„í‚¤í…ì²˜</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css?v=20260214">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>">
</head>

<body>
    <!-- AI Pattern Background Canvas -->
    <div class="ai-canvas-container">
        <canvas id="ai-pattern-canvas"></canvas>
    </div>
    <div class="circuit-overlay"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container">
            <a href="architecture.html" class="logo">
                <span class="logo-icon">ğŸ§ </span>
                RAG System
            </a>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link dropdown-trigger">ì œì•ˆì„œ</a>
                    <div class="dropdown-menu">
                        <a href="index.html#overview" class="dropdown-link">í”„ë¡œì íŠ¸ ê°œìš”</a>
                        <a href="index.html#benefits" class="dropdown-link">ê¸°ëŒ€ íš¨ê³¼</a>
                        <a href="index.html#main-features" class="dropdown-link">ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸</a>
                        <a href="index.html#ingest-features" class="dropdown-link">ì¸ì œìŠ¤íŠ¸ ê¸°ëŠ¥</a>
                        <a href="index.html#ui-features" class="dropdown-link">ìš´ì˜ í™”ë©´ (UI)</a>
                        <a href="index.html#deployment" class="dropdown-link">ë°°í¬ ë° ìš´ìš©</a>
                        <a href="index.html#operation" class="dropdown-link">ìš´ì˜ í”„ë¡œì„¸ìŠ¤</a>
                        <a href="index.html#quick-start" class="dropdown-link">ë¹ ë¥¸ PoC ì‹¤í–‰</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="architecture.html" class="nav-link dropdown-trigger">ì•„í‚¤í…ì²˜</a>
                    <div class="dropdown-menu">
                        <a href="architecture.html#features" class="dropdown-link">í•µì‹¬ ê¸°ëŠ¥</a>
                        <a href="architecture.html#architecture" class="dropdown-link">ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</a>
                        <a href="architecture.html#tech-stack" class="dropdown-link">ê¸°ìˆ  ìŠ¤íƒ</a>
                        <a href="architecture.html#data-flow" class="dropdown-link">ë°ì´í„° íë¦„</a>
                        <a href="architecture.html#api" class="dropdown-link">API</a>
                        <a href="architecture.html#formats" class="dropdown-link">ì§€ì› íŒŒì¼ í˜•ì‹</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="tobe_proposal.html" class="nav-link dropdown-trigger active">ê³ ë„í™” ëª¨ë¸</a>
                    <div class="dropdown-menu">
                        <a href="tobe_proposal.html#phase1" class="dropdown-link">Phase 1: PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜</a>
                        <a href="tobe_proposal.html#phase2" class="dropdown-link">Phase 2: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰</a>
                        <a href="tobe_proposal.html#phase3" class="dropdown-link">Phase 3: LLM ì„±ëŠ¥ ìµœì í™”</a>
                        <a href="tobe_proposal.html#phase4" class="dropdown-link">Phase 4: ë°ì´í„° íŒŒì´í”„ë¼ì¸</a>
                        <a href="texttoSQL.html" class="dropdown-link" style="color: var(--color-accent-primary);">Phase 5: Text-to-SQL</a>
                        <a href="tobe_proposal.html#phase6" class="dropdown-link">Phase 6: ì‚¬ìš©ì ê²½í—˜ ê°œì„ </a>
                        <a href="tobe_proposal.html#phase7" class="dropdown-link">Phase 7: ì—”í„°í”„ë¼ì´ì¦ˆ & ê³ ê¸‰ RAG</a>
                        <a href="tobe_proposal.html#roadmap" class="dropdown-link">Phase 8: ê¸°ìˆ  ìŠ¤íƒ ë¡œë“œë§µ</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="rocky-linux-migration-plan.html" class="nav-link dropdown-trigger">ì„œë²„êµ¬ì¶•</a>
                    <div class="dropdown-menu">
                        <a href="rocky-linux-migration-plan.html#env-info" class="dropdown-link">í™˜ê²½ ì •ë³´</a>
                        <a href="rocky-linux-migration-plan.html#flowchart" class="dropdown-link">ì‘ì—… íë¦„ë„</a>
                        <a href="rocky-linux-migration-plan.html#step1" class="dropdown-link">Step 1: ì„œë²„ ê¸°ë³¸ ì„¤ì •</a>
                        <a href="rocky-linux-migration-plan.html#step2" class="dropdown-link">Step 2: ì†ŒìŠ¤ ì½”ë“œ ì „ì†¡</a>
                        <a href="rocky-linux-migration-plan.html#step3" class="dropdown-link">Step 3: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •</a>
                        <a href="rocky-linux-migration-plan.html#step4" class="dropdown-link">Step 4: ì‹¤í–‰ ë° ê²€ì¦</a>
                        <a href="rocky-linux-migration-plan.html#troubleshooting" class="dropdown-link">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</a>
                    </div>
                </li>
                <li><a href="index.html#contact" class="nav-link nav-cta">ë„ì… ë¬¸ì˜</a></li>
            </ul>
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="container">
            <div class="hero-content">
                <span class="hero-badge">
                    Phase 5 Â· Text-to-SQL
                </span>
                <h1 class="hero-title">
                    LLM Text-to-SQL<br>
                    <span class="gradient-text">ì•„í‚¤í…ì²˜ ì„¤ê³„</span>
                </h1>
                <p class="hero-description">
                    ì‚¬ìš©ìê°€ ìì—°ì–´(í•œêµ­ì–´)ë¡œ ì§ˆë¬¸í•˜ë©´ LLMì´ SQL SELECT ì¿¼ë¦¬ë¥¼ ìë™ ìƒì„±í•˜ì—¬
                    êµ¬ì¡°í™”ëœ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ê³ , ê²°ê³¼ë¥¼ ìì—°ì–´ë¡œ ìš”ì•½í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ RAG+SQL ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
                </p>
                <div class="hero-buttons">
                    <a href="#architecture" class="btn btn-primary">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                        </svg>
                        ì•„í‚¤í…ì²˜ ë³´ê¸°
                    </a>
                    <a href="#roadmap" class="btn btn-secondary">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                        </svg>
                        êµ¬í˜„ ë¡œë“œë§µ
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section class="section" id="overview">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Overview</span>
                <h2 class="section-title">RAGì™€ Text-to-SQLì˜ ì—­í•  ë¹„êµ</h2>
                <p class="section-description">
                    ê¸°ì¡´ RAG(ë¹„ì •í˜• ë¬¸ì„œ ê²€ìƒ‰)ì™€ Text-to-SQL(ì •í˜• ë°ì´í„° ì¡°íšŒ)ì„ ê²°í•©í•œ í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ìœ¼ë¡œ,
                    ì§ˆë¬¸ ìœ í˜•ì— ë”°ë¼ ìµœì ì˜ ê²½ë¡œë¥¼ ìë™ ì„ íƒí•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>êµ¬ë¶„</th>
                            <th>RAG (ê¸°ì¡´)</th>
                            <th>Text-to-SQL (ì‹ ê·œ)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ëŒ€ìƒ</strong></td>
                            <td>ë¹„ì •í˜• ë¬¸ì„œ (PDF, DOCX ë“±)</td>
                            <td>ì •í˜• ë°ì´í„° (DB í…Œì´ë¸”)</td>
                        </tr>
                        <tr>
                            <td><strong>ê²€ìƒ‰ ë°©ì‹</strong></td>
                            <td>ë²¡í„° ìœ ì‚¬ë„ + í‚¤ì›Œë“œ</td>
                            <td>SQL ì¿¼ë¦¬ ìƒì„± â†’ ì‹¤í–‰</td>
                        </tr>
                        <tr>
                            <td><strong>ì‘ë‹µ</strong></td>
                            <td>ë¬¸ì„œ ê¸°ë°˜ ì„¤ëª…</td>
                            <td>ë°ì´í„° ì¡°íšŒ ê²°ê³¼ + ìš”ì•½</td>
                        </tr>
                        <tr>
                            <td><strong>ì˜ˆì‹œ</strong></td>
                            <td><code>"ì²­ë…„ë‚´ì¼ì±„ì›€ê³µì œ ê°€ì… ì¡°ê±´ì€?"</code></td>
                            <td><code>"ì´ë²ˆ ë‹¬ ì‹ ê·œ ê°€ì…ì ìˆ˜ëŠ”?"</code></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Integration Modes -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); text-align: center;">
                <span class="text-gradient">Query Router</span> â€” 3ê°€ì§€ ë¶„ê¸° ê²½ë¡œ
            </h3>
            <div class="features-grid" style="grid-template-columns: repeat(3, 1fr);">
                <div class="card" style="border-color: rgba(59, 130, 246, 0.3);">
                    <div class="card-icon" style="background: rgba(59, 130, 246, 0.2); color: #3b82f6;">ğŸ“„</div>
                    <h3 class="card-title">RAG ê²½ë¡œ</h3>
                    <p class="card-description">
                        ê°œë…/ì ˆì°¨/ì„¤ëª… ì§ˆë¬¸<br>
                        â†’ ê¸°ì¡´ ë¬¸ì„œ ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸<br>
                        <span style="color: var(--color-text-muted); font-size: 0.85rem;">í‚¤ì›Œë“œ: ì„¤ëª…, ë°©ë²•, ì´ìœ , ì ˆì°¨, ê°€ì´ë“œ</span>
                    </p>
                </div>
                <div class="card" style="border-color: rgba(6, 182, 212, 0.3);">
                    <div class="card-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">ğŸ”¢</div>
                    <h3 class="card-title">SQL ê²½ë¡œ</h3>
                    <p class="card-description">
                        ë°ì´í„° ì¡°íšŒ/ì§‘ê³„ ì§ˆë¬¸<br>
                        â†’ Text-to-SQL íŒŒì´í”„ë¼ì¸<br>
                        <span style="color: var(--color-text-muted); font-size: 0.85rem;">í‚¤ì›Œë“œ: ëª‡ ê±´, í•©ê³„, í‰ê· , ëª©ë¡, ì¡°íšŒ</span>
                    </p>
                </div>
                <div class="card" style="border-color: rgba(168, 85, 247, 0.3);">
                    <div class="card-icon" style="background: rgba(168, 85, 247, 0.2); color: #a855f7;">ğŸ”€</div>
                    <h3 class="card-title">Hybrid ê²½ë¡œ</h3>
                    <p class="card-description">
                        ë°ì´í„° + ì„¤ëª… ëª¨ë‘ í•„ìš”<br>
                        â†’ ì–‘ìª½ ê²°ê³¼ í†µí•© (SQL ìš°ì„ )<br>
                        <span style="color: var(--color-text-muted); font-size: 0.85rem;">í‚¤ì›Œë“œ: ë¶„ì„, ì¶”ì´, ë¹„êµ + ì¡°íšŒ</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture Section -->
    <section class="section" id="architecture">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Architecture</span>
                <h2 class="section-title">í†µí•© ì•„í‚¤í…ì²˜</h2>
                <p class="section-description">
                    Query Routerê°€ ì§ˆë¬¸ ì˜ë„ë¥¼ ë¶„ë¥˜í•˜ê³ , ê° íŒŒì´í”„ë¼ì¸ì´ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•œ í›„ Context Mergerì—ì„œ ê²°ê³¼ë¥¼ í†µí•©í•©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Flowchart Styles -->
            <style>
                .flowchart {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 0;
                    padding: var(--spacing-xl) var(--spacing-md);
                    position: relative;
                }
                .fc-node {
                    position: relative;
                    text-align: center;
                    border-radius: var(--radius-md);
                    padding: 14px 28px;
                    font-weight: 600;
                    font-size: 0.95rem;
                    color: var(--color-text-primary);
                    backdrop-filter: blur(12px);
                    transition: var(--transition-base);
                    z-index: 2;
                    min-width: 200px;
                }
                .fc-node:hover {
                    transform: translateY(-3px);
                    box-shadow: var(--shadow-glow);
                }
                .fc-node-sub {
                    display: block;
                    font-size: 0.78rem;
                    font-weight: 400;
                    color: var(--color-text-muted);
                    margin-top: 4px;
                }
                .fc-node-icon {
                    font-size: 1.3rem;
                    margin-bottom: 4px;
                    display: block;
                }
                /* Node color variants */
                .fc-node--start {
                    background: linear-gradient(135deg, rgba(6,182,212,0.25), rgba(14,165,233,0.25));
                    border: 1.5px solid rgba(6,182,212,0.6);
                    border-radius: var(--radius-xl);
                }
                .fc-node--router {
                    background: linear-gradient(135deg, rgba(168,85,247,0.2), rgba(139,92,246,0.2));
                    border: 1.5px solid rgba(168,85,247,0.5);
                    clip-path: polygon(12% 0%, 88% 0%, 100% 50%, 88% 100%, 12% 100%, 0% 50%);
                    padding: 20px 48px;
                    min-width: 260px;
                }
                .fc-node--rag {
                    background: linear-gradient(135deg, rgba(59,130,246,0.2), rgba(37,99,235,0.15));
                    border: 1.5px solid rgba(59,130,246,0.5);
                }
                .fc-node--sql {
                    background: linear-gradient(135deg, rgba(6,182,212,0.2), rgba(14,165,233,0.15));
                    border: 1.5px solid rgba(6,182,212,0.5);
                }
                .fc-node--merger {
                    background: linear-gradient(135deg, rgba(16,185,129,0.2), rgba(5,150,105,0.15));
                    border: 1.5px solid rgba(16,185,129,0.5);
                    min-width: 300px;
                }
                .fc-node--llm {
                    background: linear-gradient(135deg, rgba(245,158,11,0.2), rgba(234,179,8,0.15));
                    border: 1.5px solid rgba(245,158,11,0.5);
                }
                .fc-node--response {
                    background: linear-gradient(135deg, rgba(6,182,212,0.3), rgba(14,165,233,0.3));
                    border: 2px solid rgba(6,182,212,0.7);
                    border-radius: var(--radius-xl);
                    box-shadow: 0 0 20px rgba(6,182,212,0.2);
                }
                /* Connector arrows */
                .fc-arrow {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    position: relative;
                    z-index: 1;
                }
                .fc-arrow-line {
                    width: 2px;
                    height: 28px;
                    background: linear-gradient(180deg, rgba(6,182,212,0.6), rgba(6,182,212,0.3));
                }
                .fc-arrow-head {
                    width: 0; height: 0;
                    border-left: 6px solid transparent;
                    border-right: 6px solid transparent;
                    border-top: 8px solid rgba(6,182,212,0.6);
                }
                .fc-arrow-label {
                    font-size: 0.72rem;
                    font-weight: 600;
                    color: var(--color-text-muted);
                    padding: 2px 8px;
                    border-radius: var(--radius-full);
                    background: rgba(255,255,255,0.04);
                    position: absolute;
                    white-space: nowrap;
                }
                /* Branch layout */
                .fc-branch {
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                    gap: var(--spacing-xl);
                    position: relative;
                    width: 100%;
                    max-width: 720px;
                }
                .fc-branch-arm {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    flex: 1;
                    min-width: 0;
                }
                /* Horizontal connector bar */
                .fc-hbar {
                    width: 100%;
                    max-width: 520px;
                    height: 2px;
                    background: linear-gradient(90deg, rgba(59,130,246,0.5), rgba(168,85,247,0.5), rgba(6,182,212,0.5));
                    position: relative;
                }
                .fc-hbar::before, .fc-hbar::after {
                    content: '';
                    position: absolute;
                    top: -3px;
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                }
                .fc-hbar::before {
                    left: 0;
                    background: rgba(59,130,246,0.7);
                }
                .fc-hbar::after {
                    right: 0;
                    background: rgba(6,182,212,0.7);
                }
                .fc-hbar-mid {
                    position: absolute;
                    top: -3px;
                    left: 50%;
                    transform: translateX(-50%);
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                    background: rgba(168,85,247,0.7);
                }
                /* Branch labels */
                .fc-branch-label {
                    font-size: 0.72rem;
                    font-weight: 700;
                    padding: 3px 10px;
                    border-radius: var(--radius-full);
                    margin-bottom: 4px;
                    letter-spacing: 0.05em;
                }
                .fc-branch-label--rag { background: rgba(59,130,246,0.15); color: #60a5fa; }
                .fc-branch-label--hybrid { background: rgba(168,85,247,0.15); color: #c084fc; }
                .fc-branch-label--sql { background: rgba(6,182,212,0.15); color: #22d3ee; }
                /* Merge bar */
                .fc-merge-bar {
                    width: 100%;
                    max-width: 520px;
                    height: 2px;
                    background: linear-gradient(90deg, rgba(59,130,246,0.4), rgba(16,185,129,0.6), rgba(6,182,212,0.4));
                }
                /* Pipeline steps */
                .fc-pipeline {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 0;
                    width: 100%;
                    max-width: 540px;
                }
                .fc-pipe-node {
                    display: flex;
                    align-items: center;
                    gap: var(--spacing-md);
                    width: 100%;
                    background: var(--color-bg-card);
                    border: 1px solid var(--color-border);
                    border-radius: var(--radius-md);
                    padding: 14px 20px;
                    transition: var(--transition-base);
                    position: relative;
                    z-index: 2;
                }
                .fc-pipe-node:hover {
                    border-color: var(--color-border-hover);
                    transform: translateX(6px);
                    box-shadow: var(--shadow-md);
                }
                .fc-pipe-icon {
                    width: 44px;
                    height: 44px;
                    min-width: 44px;
                    border-radius: var(--radius-md);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.2rem;
                }
                .fc-pipe-text h4 {
                    font-size: 0.95rem;
                    color: var(--color-text-primary);
                    margin-bottom: 2px;
                }
                .fc-pipe-text p {
                    font-size: 0.8rem;
                    color: var(--color-text-muted);
                    line-height: 1.4;
                }
                .fc-pipe-arrow {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    position: relative;
                }
                .fc-pipe-arrow-line {
                    width: 2px;
                    height: 18px;
                    background: var(--color-border);
                }
                .fc-pipe-arrow-head {
                    width: 0; height: 0;
                    border-left: 5px solid transparent;
                    border-right: 5px solid transparent;
                    border-top: 6px solid var(--color-accent-primary);
                }
                .fc-pipe-retry {
                    position: absolute;
                    right: -160px;
                    top: 50%;
                    transform: translateY(-50%);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                    font-size: 0.7rem;
                    color: var(--color-warning);
                    white-space: nowrap;
                }
                .fc-pipe-retry-arrow {
                    width: 40px;
                    height: 1px;
                    background: rgba(245,158,11,0.4);
                    position: relative;
                }
                .fc-pipe-retry-arrow::before {
                    content: '';
                    position: absolute;
                    left: -1px;
                    top: -3px;
                    border-right: 5px solid rgba(245,158,11,0.5);
                    border-top: 3px solid transparent;
                    border-bottom: 3px solid transparent;
                }
                .fc-pipe-node--active {
                    border-color: var(--color-accent-primary);
                    box-shadow: 0 0 15px rgba(6,182,212,0.15);
                }
                .fc-pipe-step-num {
                    position: absolute;
                    left: -12px;
                    top: 50%;
                    transform: translateY(-50%);
                    width: 24px;
                    height: 24px;
                    background: var(--color-accent-gradient);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 0.7rem;
                    font-weight: 700;
                    color: white;
                }
                @media (max-width: 768px) {
                    .fc-branch { flex-direction: column; align-items: center; gap: var(--spacing-md); }
                    .fc-hbar, .fc-merge-bar { display: none; }
                    .fc-node--router { clip-path: none; padding: 14px 28px; min-width: auto; }
                    .fc-pipe-retry { display: none; }
                }
            </style>

            <!-- Main Architecture Flowchart -->
            <div class="architecture-diagram" style="margin-bottom: var(--spacing-3xl); padding: var(--spacing-xl) var(--spacing-md); overflow: visible;">
                <div class="layer-title" style="margin-bottom: var(--spacing-lg); font-size: 1rem;">
                    <span>ğŸ—ï¸</span> ì „ì²´ íë¦„ë„
                </div>

                <div class="flowchart">
                    <!-- 1. User Question -->
                    <div class="fc-node fc-node--start">
                        <span class="fc-node-icon">ğŸ’¬</span>
                        ì‚¬ìš©ì ì§ˆë¬¸
                        <span class="fc-node-sub">ìì—°ì–´ (í•œêµ­ì–´)</span>
                    </div>
                    <div class="fc-arrow">
                        <div class="fc-arrow-line"></div>
                        <div class="fc-arrow-head"></div>
                    </div>

                    <!-- 2. Query Router -->
                    <div class="fc-node fc-node--router">
                        <span class="fc-node-icon">ğŸ“¡</span>
                        Query Router
                        <span class="fc-node-sub">ì˜ë„ ë¶„ë¥˜ (í‚¤ì›Œë“œ ê¸°ë°˜)</span>
                    </div>
                    <div class="fc-arrow">
                        <div class="fc-arrow-line" style="height: 16px;"></div>
                    </div>

                    <!-- 3. Branch Bar -->
                    <div class="fc-hbar">
                        <div class="fc-hbar-mid"></div>
                    </div>

                    <!-- 4. Three Branches -->
                    <div class="fc-branch">
                        <!-- RAG Branch -->
                        <div class="fc-branch-arm">
                            <div class="fc-arrow" style="margin-bottom: 6px;">
                                <div class="fc-arrow-line" style="height: 16px;"></div>
                                <div class="fc-arrow-head" style="border-top-color: rgba(59,130,246,0.6);"></div>
                            </div>
                            <span class="fc-branch-label fc-branch-label--rag">RAG</span>
                            <div class="fc-node fc-node--rag" style="min-width: 170px;">
                                <span class="fc-node-icon">ğŸ“„</span>
                                RAG Pipeline
                                <span class="fc-node-sub">ë¬¸ì„œ ë²¡í„° ê²€ìƒ‰ (ê¸°ì¡´)</span>
                            </div>
                        </div>
                        <!-- Hybrid Branch -->
                        <div class="fc-branch-arm">
                            <div class="fc-arrow" style="margin-bottom: 6px;">
                                <div class="fc-arrow-line" style="height: 16px;"></div>
                                <div class="fc-arrow-head" style="border-top-color: rgba(168,85,247,0.6);"></div>
                            </div>
                            <span class="fc-branch-label fc-branch-label--hybrid">HYBRID</span>
                            <div class="fc-node" style="background: rgba(168,85,247,0.12); border: 1.5px solid rgba(168,85,247,0.35); min-width: 170px; font-size: 0.85rem;">
                                <span class="fc-node-icon">ğŸ”€</span>
                                ì–‘ìª½ ë³‘ë ¬ ì‹¤í–‰
                                <span class="fc-node-sub">RAG + SQL ë™ì‹œ í˜¸ì¶œ</span>
                            </div>
                        </div>
                        <!-- SQL Branch -->
                        <div class="fc-branch-arm">
                            <div class="fc-arrow" style="margin-bottom: 6px;">
                                <div class="fc-arrow-line" style="height: 16px;"></div>
                                <div class="fc-arrow-head"></div>
                            </div>
                            <span class="fc-branch-label fc-branch-label--sql">SQL</span>
                            <div class="fc-node fc-node--sql" style="min-width: 170px;">
                                <span class="fc-node-icon">ğŸ”¢</span>
                                Text-to-SQL
                                <span class="fc-node-sub">SQL ìƒì„± â†’ ì‹¤í–‰ (ì‹ ê·œ)</span>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Merge Bar -->
                    <div class="fc-arrow">
                        <div class="fc-arrow-line" style="height: 16px;"></div>
                    </div>
                    <div class="fc-merge-bar"></div>
                    <div class="fc-arrow">
                        <div class="fc-arrow-line" style="height: 12px;"></div>
                        <div class="fc-arrow-head" style="border-top-color: rgba(16,185,129,0.6);"></div>
                    </div>

                    <!-- 6. Context Merger -->
                    <div class="fc-node fc-node--merger">
                        <span class="fc-node-icon">ğŸ”—</span>
                        Context Merger
                        <span class="fc-node-sub">SQL ê²°ê³¼ + ë¬¸ì„œ ê²€ìƒ‰ í†µí•© Â· ì¶©ëŒ ì‹œ SQL ìš°ì„ </span>
                    </div>
                    <div class="fc-arrow">
                        <div class="fc-arrow-line"></div>
                        <div class="fc-arrow-head" style="border-top-color: rgba(245,158,11,0.6);"></div>
                    </div>

                    <!-- 7. LLM -->
                    <div class="fc-node fc-node--llm">
                        <span class="fc-node-icon">ğŸ§ </span>
                        Ollama LLM
                        <span class="fc-node-sub">ìì—°ì–´ ì‘ë‹µ ìƒì„±</span>
                    </div>
                    <div class="fc-arrow">
                        <div class="fc-arrow-line"></div>
                        <div class="fc-arrow-head"></div>
                    </div>

                    <!-- 8. Response -->
                    <div class="fc-node fc-node--response">
                        <span class="fc-node-icon">âœ…</span>
                        Response
                        <span class="fc-node-sub">ë‹µë³€ + ì¸ìš© + SQL ê²°ê³¼ + caveats</span>
                    </div>
                </div>
            </div>

            <!-- Text-to-SQL Pipeline Detail -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); text-align: center;">
                Text-to-SQL íŒŒì´í”„ë¼ì¸ ìƒì„¸
            </h3>
            <div class="architecture-diagram" style="padding: var(--spacing-xl) var(--spacing-md); overflow: visible;">
                <div class="flowchart">
                    <div class="fc-pipeline">
                        <!-- Step 1 -->
                        <div class="fc-pipe-node">
                            <span class="fc-pipe-step-num">1</span>
                            <div class="fc-pipe-icon" style="background: rgba(6,182,212,0.15); color: #06b6d4;">ğŸ“‹</div>
                            <div class="fc-pipe-text">
                                <h4>SchemaMetadataManager</h4>
                                <p>ì§ˆë¬¸ ê´€ë ¨ í…Œì´ë¸”ë§Œ ì„ ë³„ Â· DDL + ìƒ˜í”Œ ë°ì´í„° + ë™ì˜ì–´ ë¡œë“œ</p>
                            </div>
                        </div>
                        <div class="fc-pipe-arrow">
                            <div class="fc-pipe-arrow-line"></div>
                            <div class="fc-pipe-arrow-head"></div>
                        </div>

                        <!-- Step 2 -->
                        <div class="fc-pipe-node">
                            <span class="fc-pipe-step-num">2</span>
                            <div class="fc-pipe-icon" style="background: rgba(168,85,247,0.15); color: #a855f7;">ğŸ¤–</div>
                            <div class="fc-pipe-text">
                                <h4>SQLGenerator</h4>
                                <p>LLM í˜¸ì¶œ (ì§ˆë¬¸ + ìŠ¤í‚¤ë§ˆ + Few-shot) â†’ SQL SELECT ìƒì„±</p>
                            </div>
                        </div>
                        <div class="fc-pipe-arrow">
                            <div class="fc-pipe-arrow-line"></div>
                            <div class="fc-pipe-arrow-head"></div>
                        </div>

                        <!-- Step 3 -->
                        <div class="fc-pipe-node" style="border-color: rgba(239,68,68,0.3);">
                            <span class="fc-pipe-step-num">3</span>
                            <div class="fc-pipe-icon" style="background: rgba(239,68,68,0.15); color: #ef4444;">ğŸ›¡ï¸</div>
                            <div class="fc-pipe-text">
                                <h4>SQLValidator</h4>
                                <p>sqlparse AST Â· ë‹¨ì¼ SELECT Â· í…Œì´ë¸” í—ˆìš©ëª©ë¡ Â· PII ë³´í˜¸</p>
                            </div>
                            <div class="fc-pipe-retry">
                                <div class="fc-pipe-retry-arrow"></div>
                                ì‹¤íŒ¨ â†’ ì¬ì‹œë„ (ìµœëŒ€ 2íšŒ)
                            </div>
                        </div>
                        <div class="fc-pipe-arrow">
                            <div class="fc-pipe-arrow-line"></div>
                            <div class="fc-pipe-arrow-head"></div>
                        </div>

                        <!-- Step 4 -->
                        <div class="fc-pipe-node" style="border-color: rgba(245,158,11,0.3);">
                            <span class="fc-pipe-step-num">4</span>
                            <div class="fc-pipe-icon" style="background: rgba(245,158,11,0.15); color: #f59e0b;">ğŸ’°</div>
                            <div class="fc-pipe-text">
                                <h4>CostEstimator</h4>
                                <p>EXPLAIN ë¹„ìš© ìƒí•œ ê²€ì‚¬ Â· í’€ìŠ¤ìº” ê°ì§€ (ìš´ì˜: í•„ìˆ˜ / ê°œë°œ: ì„ íƒ)</p>
                            </div>
                        </div>
                        <div class="fc-pipe-arrow">
                            <div class="fc-pipe-arrow-line"></div>
                            <div class="fc-pipe-arrow-head"></div>
                        </div>

                        <!-- Step 5 -->
                        <div class="fc-pipe-node">
                            <span class="fc-pipe-step-num">5</span>
                            <div class="fc-pipe-icon" style="background: rgba(59,130,246,0.15); color: #3b82f6;">âš¡</div>
                            <div class="fc-pipe-text">
                                <h4>SQLExecutor</h4>
                                <p>READ ONLY Â· timeout 5ì´ˆ Â· ìµœëŒ€ 1000í–‰ Â· ë™ì‹œì„± ì„¸ë§ˆí¬ì–´</p>
                            </div>
                            <div class="fc-pipe-retry">
                                <div class="fc-pipe-retry-arrow"></div>
                                PG ì—ëŸ¬ â†’ ì¬ì‹œë„
                            </div>
                        </div>
                        <div class="fc-pipe-arrow">
                            <div class="fc-pipe-arrow-line"></div>
                            <div class="fc-pipe-arrow-head"></div>
                        </div>

                        <!-- Step 6 -->
                        <div class="fc-pipe-node fc-pipe-node--active">
                            <span class="fc-pipe-step-num">6</span>
                            <div class="fc-pipe-icon" style="background: rgba(16,185,129,0.15); color: #10b981;">ğŸ“Š</div>
                            <div class="fc-pipe-text">
                                <h4>ResultFormatter</h4>
                                <p>ë§ˆí¬ë‹¤ìš´ í…Œì´ë¸” + ìì—°ì–´ ìš”ì•½ + PII ë§ˆìŠ¤í‚¹ + ë¶ˆí™•ì‹¤ì„± ê³ ì§€</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Components Section -->
    <section class="section" id="components">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Components</span>
                <h2 class="section-title">ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ ëª…ì„¸</h2>
                <p class="section-description">
                    3ê°œì˜ ì‹ ê·œ íŒŒì¼ë¡œ êµ¬ì„±ë˜ë©°, ê¸°ì¡´ ì½”ë“œ íŒ¨í„´(pgvector_store.py, rag_orchestrator.py)ì„ ë”°ë¦…ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Query Router -->
            <div style="margin-bottom: var(--spacing-3xl);">
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">ğŸ“¡</span> app/query_router.py â€” ì§ˆë¬¸ ì˜ë„ ë¶„ë¥˜
                </h3>
                <div class="code-block" data-lang="Python" style="margin-bottom: var(--spacing-lg);">
<code>classify_intent(question: str) -> Literal["rag", "sql", "hybrid"]</code>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ë¶„ë¥˜</th>
                                <th>í‚¤ì›Œë“œ ì˜ˆì‹œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong style="color: var(--color-accent-primary);">SQL</strong></td>
                                <td>ëª‡ ê±´, ì´í•©, í•©ê³„, í‰ê· , ê°œìˆ˜, ëª©ë¡, ë¦¬ìŠ¤íŠ¸, ì¡°íšŒ, ì •ë ¬, ìµœëŒ€, ìµœì†Œ, ë°ì´í„°</td>
                            </tr>
                            <tr>
                                <td><strong style="color: #3b82f6;">RAG</strong></td>
                                <td>ì„¤ëª…, ë°©ë²•, ì´ìœ , ì°¨ì´ì , ì ˆì°¨, ê°€ì´ë“œ, ì£¼ì˜ì‚¬í•­</td>
                            </tr>
                            <tr>
                                <td><strong style="color: #a855f7;">Hybrid</strong></td>
                                <td>ë¶„ì„, ì¶”ì´, "ë¹„êµí•˜ê³  ì¡°íšŒ", "ì„¤ëª…í•˜ë©´ì„œ ì¡°íšŒ"</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Text-to-SQL Engine -->
            <div style="margin-bottom: var(--spacing-3xl);">
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">âš™ï¸</span> app/text_to_sql.py â€” í•µì‹¬ ì—”ì§„
                </h3>
                <div class="features-grid" style="grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));">
                    <div class="card">
                        <div class="card-icon">ğŸ“‹</div>
                        <h3 class="card-title">SchemaMetadataManager</h3>
                        <p class="card-description">
                            ì§ˆë¬¸ ê´€ë ¨ í…Œì´ë¸”ë§Œ ì„ ë³„í•˜ì—¬ DDL + ìƒ˜í”Œ ë°ì´í„° ë°˜í™˜ (ìŠ¤í‚¤ë§ˆ ìµœì†Œ ë…¸ì¶œ ì›ì¹™).
                            í•œêµ­ì–´ ë™ì˜ì–´ ë§¤í•‘, ìŠ¤í‚¤ë§ˆ ë™ê¸°í™” ê²€ì‚¬, ìƒ˜í”Œ ë°ì´í„° ë¹„ì‹ë³„í™” ì§€ì›.
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>get_schema_context()</code><br>
                            <code>check_schema_sync()</code><br>
                            <code>refresh_cache()</code>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ¤–</div>
                        <h3 class="card-title">SQLGenerator</h3>
                        <p class="card-description">
                            Ollama LLMì„ í˜¸ì¶œí•˜ì—¬ ìì—°ì–´ â†’ SQL ë³€í™˜.
                            ì—ëŸ¬ ë³´ì • ì‹œ <code>retry_context</code>ì— ì´ì „ ì—ëŸ¬ ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬ ì¬ìƒì„±.
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>generate_sql(question, schema_context, few_shot, retry_context)</code>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ›¡ï¸</div>
                        <h3 class="card-title">SQLValidator</h3>
                        <p class="card-description">
                            sqlparse AST ë¶„ì„ ê¸°ë°˜ ê²€ì¦. ë‹¨ì¼ SELECTë§Œ í—ˆìš©, ì°¨ë‹¨ í‚¤ì›Œë“œ, í…Œì´ë¸” í—ˆìš©ëª©ë¡(ì£¼ í†µì œ),
                            ì„œë¸Œì¿¼ë¦¬ ê¹Šì´ ì œí•œ(2ë‹¨ê³„), í•¨ìˆ˜ í—ˆìš©ëª©ë¡, PII ì»¬ëŸ¼ ë³´í˜¸.
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>validate(sql) -> ValidationResult</code>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ’°</div>
                        <h3 class="card-title">CostEstimator</h3>
                        <p class="card-description">
                            <code>EXPLAIN (FORMAT JSON)</code>ìœ¼ë¡œ ì‹¤í–‰ ì „ ë¹„ìš© ìƒí•œ/í’€ìŠ¤ìº” ìœ„í—˜ ê²€ì‚¬.
                            ìš´ì˜: í•„ìˆ˜ ì ìš©, ê°œë°œ: ì„ íƒì .
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>check_cost(sql) -> CostCheckResult</code>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">âš¡</div>
                        <h3 class="card-title">SQLExecutor</h3>
                        <p class="card-description">
                            ì½ê¸°ì „ìš© ì»¤ë„¥ì…˜ (<code>sql_reader</code> ì—­í• ), <code>READ ONLY</code>,
                            timeout 5ì´ˆ, ìµœëŒ€ 1000í–‰. ë™ì‹œì„± ì œì–´ ì„¸ë§ˆí¬ì–´ ì ìš©.
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>execute(sql, offset, limit) -> SQLExecutionResult</code>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ“Š</div>
                        <h3 class="card-title">ResultFormatter</h3>
                        <p class="card-description">
                            SQL ê²°ê³¼ë¥¼ ë§ˆí¬ë‹¤ìš´ í…Œì´ë¸”ë¡œ ë³€í™˜, ìì—°ì–´ ìš”ì•½ ìƒì„±.
                            PII ë§ˆìŠ¤í‚¹ í›„ì²˜ë¦¬ + ë¶ˆí™•ì‹¤ì„± ê³ ì§€ ìë™ ì²¨ë¶€.
                        </p>
                        <div style="margin-top: var(--spacing-md);">
                            <code>format_standalone_response()</code><br>
                            <code>format_for_llm_context()</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SQL Store -->
            <div>
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">ğŸ—„ï¸</span> app/sql_store.py â€” DB ì—°ê²° ê´€ë¦¬
                </h3>
                <div class="info-card" style="max-width: 700px;">
                    <div class="info-icon blue">ğŸ”—</div>
                    <div class="info-content">
                        <h4>pgvector_store.py íŒ¨í„´ ì¤€ìˆ˜</h4>
                        <p><code>SQLStoreConfig</code> + <code>get_readonly_connection()</code> + <code>ensure_sql_schema()</code> êµ¬ì¡°.
                            ê¸°ì¡´ PostgresConfig íŒ¨í„´ê³¼ ë™ì¼í•œ í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Database Design Section -->
    <section class="section" id="database">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Database</span>
                <h2 class="section-title">ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„</h2>
                <p class="section-description">
                    ì‹œìŠ¤í…œ ë©”íƒ€ë°ì´í„° í…Œì´ë¸” 3ê°œì™€ ìƒ˜í”Œ ë¹„ì¦ˆë‹ˆìŠ¤ í…Œì´ë¸” 4ê°œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- System Tables -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ—ƒï¸</span> ì‹ ê·œ ì‹œìŠ¤í…œ í…Œì´ë¸”
            </h3>
            <div class="features-grid" style="grid-template-columns: repeat(3, 1fr); margin-bottom: var(--spacing-3xl);">
                <div class="card">
                    <div class="card-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">ğŸ“–</div>
                    <h3 class="card-title">sql_schema_catalog</h3>
                    <p class="card-description">
                        LLM í”„ë¡¬í”„íŠ¸ì— ì£¼ì…í•  í…Œì´ë¸”/ì»¬ëŸ¼ì˜ í•œêµ­ì–´ ì„¤ëª…, PII ì—¬ë¶€, ë§ˆìŠ¤í‚¹ ìœ í˜•, ë™ì˜ì–´ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
                    </p>
                    <div style="margin-top: var(--spacing-md); font-size: 0.85rem; color: var(--color-text-muted);">
                        ì£¼ìš” ì»¬ëŸ¼: <code>is_pii</code>, <code>pii_mask_type</code>, <code>synonyms</code>, <code>sample_values</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon" style="background: rgba(16, 185, 129, 0.2); color: #10b981;">ğŸ“</div>
                    <h3 class="card-title">sql_few_shot_examples</h3>
                    <p class="card-description">
                        SQL ìƒì„± ì •í™•ë„ í–¥ìƒì„ ìœ„í•œ Few-shot ì˜ˆì œ (í•œêµ­ì–´ ì§ˆë¬¸ â†’ ì •ë‹µ SQL ìŒ).
                        ë‚œì´ë„ë³„ ë¶„ë¥˜ ë° ì‚¬ìš© íšŸìˆ˜ ì¶”ì .
                    </p>
                    <div style="margin-top: var(--spacing-md); font-size: 0.85rem; color: var(--color-text-muted);">
                        ì£¼ìš” ì»¬ëŸ¼: <code>question</code>, <code>sql_query</code>, <code>difficulty</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon" style="background: rgba(245, 158, 11, 0.2); color: #f59e0b;">ğŸ“œ</div>
                    <h3 class="card-title">sql_query_log</h3>
                    <p class="card-description">
                        ëª¨ë“  SQL ìƒì„±/ì‹¤í–‰ ì´ë ¥ì˜ ê°ì‚¬ ë¡œê·¸.
                        ìš”ì²­ì, ìƒì„±ëœ SQL, ê²€ì¦ ê²°ê³¼, ë¹„ìš©, ì‹¤í–‰ ì‹œê°„, ì—ëŸ¬ ì½”ë“œ ê¸°ë¡.
                    </p>
                    <div style="margin-top: var(--spacing-md); font-size: 0.85rem; color: var(--color-text-muted);">
                        ì£¼ìš” ì»¬ëŸ¼: <code>request_id</code>, <code>user_id</code>, <code>cost_estimate</code>, <code>error_code</code>
                    </div>
                </div>
            </div>

            <!-- Sample Business Tables -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ“¦</span> ìƒ˜í”Œ ë¹„ì¦ˆë‹ˆìŠ¤ í…Œì´ë¸”
            </h3>
            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>í…Œì´ë¸”ëª…</th>
                            <th>ì„¤ëª…</th>
                            <th>ì£¼ìš” ì»¬ëŸ¼</th>
                            <th>PII ì»¬ëŸ¼</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>subscribers</code></td>
                            <td>ê°€ì…ì ì •ë³´</td>
                            <td>subscriber_id, company_name, subscription_date, program_type, status, monthly_contribution</td>
                            <td><code>name</code></td>
                        </tr>
                        <tr>
                            <td><code>payment_history</code></td>
                            <td>ë‚©ë¶€ ì´ë ¥</td>
                            <td>payment_id, subscriber_id, payment_date, payment_month, amount, payment_status</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><code>consultation_log</code></td>
                            <td>ìƒë‹´ ì´ë ¥</td>
                            <td>consultation_id, subscriber_id, consultation_date, channel, category, resolved</td>
                            <td><code>counselor_name</code></td>
                        </tr>
                        <tr>
                            <td><code>program_products</code></td>
                            <td>í”„ë¡œê·¸ë¨ ìƒí’ˆ</td>
                            <td>product_id, program_name, monthly_amount_min/max, duration_months, government_match_ratio</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- DB Role -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”</span> ì½ê¸°ì „ìš© DB ì—­í• 
            </h3>
            <div class="info-card" style="margin-bottom: var(--spacing-lg);">
                <div class="info-icon orange">ğŸ”‘</div>
                <div class="info-content">
                    <h4>ì ‘ê·¼ í†µì œ ì›ì¹™</h4>
                    <p>í…Œì´ë¸” ì ‘ê·¼ ì°¨ë‹¨ì˜ <strong>ì£¼ í†µì œ ìˆ˜ë‹¨ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ SQLValidatorì˜ í—ˆìš©ëª©ë¡</strong>ì´ë©°,
                       DB ì—­í•  ê¶Œí•œ(<code>sql_reader</code>)ì€ <strong>ë³´ì¡° ë°©ì–´</strong>ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.
                       PostgreSQL ë²„ì „ë³„ë¡œ ì‹œìŠ¤í…œ ì¹´íƒˆë¡œê·¸ REVOKE ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, DB ê¶Œí•œì—ë§Œ ì˜ì¡´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            <div class="code-block" data-lang="SQL">
<code><span class="comment">-- ì½ê¸°ì „ìš© ì—­í•  ìƒì„±</span>
<span class="keyword">CREATE ROLE</span> sql_reader <span class="keyword">WITH LOGIN PASSWORD</span> <span class="string">'reader_secret'</span>;
<span class="keyword">GRANT</span> CONNECT <span class="keyword">ON DATABASE</span> rag <span class="keyword">TO</span> sql_reader;
<span class="keyword">GRANT</span> USAGE <span class="keyword">ON SCHEMA</span> public <span class="keyword">TO</span> sql_reader;

<span class="comment">-- ë¹„ì¦ˆë‹ˆìŠ¤ í…Œì´ë¸”ì—ë§Œ SELECT ê¶Œí•œ ë¶€ì—¬</span>
<span class="keyword">GRANT SELECT ON</span> subscribers, payment_history, consultation_log, program_products <span class="keyword">TO</span> sql_reader;

<span class="comment">-- RAG ë‚´ë¶€ í…Œì´ë¸” ì ‘ê·¼ ì°¨ë‹¨ (ë³´ì¡° ë°©ì–´)</span>
<span class="keyword">REVOKE ALL ON</span> document_chunks, ingest_history, reocr_queue <span class="keyword">FROM</span> sql_reader;</code>
            </div>
        </div>
    </section>

    <!-- Security Section -->
    <section class="section" id="security">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Security</span>
                <h2 class="section-title">ë³´ì•ˆ ì•„í‚¤í…ì²˜</h2>
                <p class="section-description">
                    API ì ‘ê·¼ë¶€í„° ê°ì‚¬ ë¡œê·¸ê¹Œì§€ 7ë‹¨ê³„ ë°©ì–´ ì²´ê³„ë¡œ ì•ˆì „í•œ SQL ì‹¤í–‰ í™˜ê²½ì„ ë³´ì¥í•©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- 7-Layer Defense -->
            <div class="architecture-diagram" style="margin-bottom: var(--spacing-3xl);">
                <div class="layer-title" style="margin-bottom: var(--spacing-lg); font-size: 1rem;">
                    <span>ğŸ›¡ï¸</span> 7ë‹¨ê³„ ë°©ì–´ ì²´ê³„
                </div>
                <div class="layer" style="border-left: 3px solid #ef4444;">
                    <div class="layer-title"><span>1ï¸âƒ£</span> API ì ‘ê·¼ ì œì–´</div>
                    <div class="layer-content">
                        <span class="layer-item">RBAC ê¸°ë°˜ ì—”ë“œí¬ì¸íŠ¸ë³„ ê¶Œí•œ ê²€ì‚¬</span>
                        <span class="layer-item highlight">sql:read / sql:execute ì—­í•  ë¶„ë¦¬</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #f59e0b;">
                    <div class="layer-title"><span>2ï¸âƒ£</span> ì…ë ¥ ê²€ì¦</div>
                    <div class="layer-content">
                        <span class="layer-item">Pydantic ëª¨ë¸ + ìš”ì²­ í¬ê¸° ì œí•œ</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #eab308;">
                    <div class="layer-title"><span>3ï¸âƒ£</span> ì¿¼ë¦¬ ë¼ìš°íŒ…</div>
                    <div class="layer-content">
                        <span class="layer-item">SQL ë¶„ë¥˜ëœ ì§ˆë¬¸ë§Œ SQL íŒŒì´í”„ë¼ì¸ ì§„ì…</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #10b981;">
                    <div class="layer-title"><span>4ï¸âƒ£</span> SQL ê²€ì¦ (ì£¼ í†µì œ)</div>
                    <div class="layer-content">
                        <span class="layer-item highlight">sqlparse AST ë¶„ì„</span>
                        <span class="layer-item highlight">í…Œì´ë¸” í—ˆìš©ëª©ë¡</span>
                        <span class="layer-item">í•¨ìˆ˜ í—ˆìš©ëª©ë¡</span>
                        <span class="layer-item">PII ì»¬ëŸ¼ ë³´í˜¸</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #06b6d4;">
                    <div class="layer-title"><span>5ï¸âƒ£</span> ë¹„ìš© ê²€ì¦</div>
                    <div class="layer-content">
                        <span class="layer-item">EXPLAIN ë¹„ìš© ìƒí•œ</span>
                        <span class="layer-item">í’€ìŠ¤ìº” ê°ì§€</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #3b82f6;">
                    <div class="layer-title"><span>6ï¸âƒ£</span> ì‹¤í–‰ ìƒŒë“œë°•ìŠ¤</div>
                    <div class="layer-content">
                        <span class="layer-item">sql_reader ì—­í•  (ë³´ì¡° ë°©ì–´)</span>
                        <span class="layer-item">READ ONLY</span>
                        <span class="layer-item">timeout 5ì´ˆ</span>
                        <span class="layer-item">í–‰ ì œí•œ 1000</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid #8b5cf6;">
                    <div class="layer-title"><span>7ï¸âƒ£</span> ê°ì‚¬ + ì•Œë¦¼</div>
                    <div class="layer-content">
                        <span class="layer-item">sql_query_log ê¸°ë¡</span>
                        <span class="layer-item">ì´ìƒí–‰ìœ„ íƒì§€</span>
                        <span class="layer-item">ë°˜ë³µ ìœ„ë°˜ ì°¨ë‹¨</span>
                    </div>
                </div>
            </div>

            <!-- RBAC Table -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ‘¤</span> API ì ‘ê·¼ ì œì–´ (RBAC)
            </h3>
            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ì—”ë“œí¬ì¸íŠ¸</th>
                            <th>ë©”ì„œë“œ</th>
                            <th>ìµœì†Œ ê¶Œí•œ</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>/sql/schema</code></td>
                            <td><span class="method-badge get">GET</span></td>
                            <td><code>sql:read</code></td>
                            <td>ìŠ¤í‚¤ë§ˆ ì¡°íšŒ (ì½ê¸° ì „ìš©)</td>
                        </tr>
                        <tr>
                            <td><code>/sql/schema/{table}</code></td>
                            <td><span class="method-badge get">GET</span></td>
                            <td><code>sql:read</code></td>
                            <td>í…Œì´ë¸” ìƒì„¸ ì¡°íšŒ</td>
                        </tr>
                        <tr>
                            <td><code>/sql/query</code></td>
                            <td><span class="method-badge post">POST</span></td>
                            <td><code>sql:execute</code></td>
                            <td>SQL ìƒì„± + ì‹¤í–‰</td>
                        </tr>
                        <tr>
                            <td><code>/sql/validate</code></td>
                            <td><span class="method-badge post">POST</span></td>
                            <td><code>sql:read</code></td>
                            <td>SQL ê²€ì¦ë§Œ (ì‹¤í–‰ ì—†ìŒ)</td>
                        </tr>
                        <tr>
                            <td><code>/rag/query</code> <span style="font-size: 0.8rem; color: var(--color-text-muted);">(queryMode=sql)</span></td>
                            <td><span class="method-badge post">POST</span></td>
                            <td><code>sql:execute</code></td>
                            <td>RAG í†µí•© SQL ì¡°íšŒ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- PII Protection -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”’</span> PII ë³´í˜¸ ì •ì±…
            </h3>
            <div class="features-grid" style="grid-template-columns: 1fr 1fr; margin-bottom: var(--spacing-3xl);">
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì¡°íšŒ ìœ í˜•</th>
                                <th>ì²˜ë¦¬ ë°©ì‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>SELECT name FROM ...</code></td>
                                <td>ì°¨ë‹¨ ë˜ëŠ” ë§ˆìŠ¤í‚¹ ìë™ ë˜í•‘</td>
                            </tr>
                            <tr>
                                <td><code>SELECT COUNT(*) GROUP BY name</code></td>
                                <td>ì§‘ê³„ë§Œ í—ˆìš©</td>
                            </tr>
                            <tr>
                                <td><code>WHERE name = 'ê¹€ì² ìˆ˜'</code></td>
                                <td>ì¡°ê±´ í—ˆìš©, ê²°ê³¼ì—ì„œ ë§ˆìŠ¤í‚¹</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ë§ˆìŠ¤í‚¹ ìœ í˜•</th>
                                <th>ì›ë³¸</th>
                                <th>ê²°ê³¼</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>name</code></td>
                                <td>ê¹€ì² ìˆ˜</td>
                                <td>ê¹€OO</td>
                            </tr>
                            <tr>
                                <td><code>phone</code></td>
                                <td>010-1234-5678</td>
                                <td>010-****-5678</td>
                            </tr>
                            <tr>
                                <td><code>email</code></td>
                                <td>user@example.com</td>
                                <td>u***@example.com</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Attack Vectors -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">âš”ï¸</span> ê³µê²© ë²¡í„°ë³„ ëŒ€ì‘
            </h3>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ê³µê²©</th>
                            <th>ëŒ€ì‘</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>LLMì´ DELETE/DROP ìƒì„±</td>
                            <td>sqlparse êµ¬ë¬¸ íƒ€ì… ê²€ì‚¬ + DB ì—­í• ì—ì„œ ì´ì¤‘ ì°¨ë‹¨</td>
                        </tr>
                        <tr>
                            <td>ì„¸ë¯¸ì½œë¡  ë‹¤ì¤‘ êµ¬ë¬¸</td>
                            <td>sqlparseë¡œ statement ë¶„ë¦¬, 2ê°œ ì´ìƒì´ë©´ ê±°ë¶€</td>
                        </tr>
                        <tr>
                            <td>ì£¼ì„ ê¸°ë°˜ ìš°íšŒ</td>
                            <td>sqlparse í† í° ë¶„ì„ìœ¼ë¡œ ì£¼ì„ ì œê±° í›„ ì¬íŒŒì‹±</td>
                        </tr>
                        <tr>
                            <td>UNIONìœ¼ë¡œ ì‹œìŠ¤í…œ í…Œì´ë¸” ì¡°íšŒ</td>
                            <td>í…Œì´ë¸” í—ˆìš©ëª©ë¡(ì£¼ í†µì œ)ì—ì„œ ì°¨ë‹¨ + UNION íŒ¨í„´ ê²€ì‚¬</td>
                        </tr>
                        <tr>
                            <td>ê³ ë¹„ìš© ì¿¼ë¦¬ (DoS)</td>
                            <td>EXPLAIN ë¹„ìš© ìƒí•œ + timeout 5ì´ˆ + í–‰ ì œí•œ</td>
                        </tr>
                        <tr>
                            <td>PII ì»¬ëŸ¼ alias ìš°íšŒ</td>
                            <td>ê²°ê³¼ ë°˜í™˜ ì „ PII ë§ˆìŠ¤í‚¹ í›„ì²˜ë¦¬ (ì›ë³¸ ì»¬ëŸ¼ ì¶”ì )</td>
                        </tr>
                        <tr>
                            <td>Hybrid ëª¨ë“œ ì»¨í…ìŠ¤íŠ¸ ì˜¤ì—¼</td>
                            <td>RAG ì»¨í…ìŠ¤íŠ¸ì™€ SQL ìƒì„± í”„ë¡¬í”„íŠ¸ë¥¼ ë¶„ë¦¬ëœ LLM í˜¸ì¶œë¡œ ê²©ë¦¬</td>
                        </tr>
                        <tr>
                            <td>ë°˜ë³µ ìœ„ë°˜ ì§ˆì˜</td>
                            <td>ë™ì¼ user_idì—ì„œ ì—°ì† ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë¡œê·¸ ê²½ê³  + ì„ì‹œ ì°¨ë‹¨</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Failure Handling Section -->
    <section class="section" id="failure">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Error Handling</span>
                <h2 class="section-title">ì‹¤íŒ¨ ì²˜ë¦¬ ë° ì‘ë‹µ ì •ì±…</h2>
                <p class="section-description">
                    ì—ëŸ¬ ì½”ë“œ ì²´ê³„, ëŒ€ì²´ ì‘ë‹µ ì „ëµ, ì¬ì‹œë„ ì‹œ ì˜ë¯¸ ë³´ì¡´ ê²€ì¦ìœ¼ë¡œ ì•ˆì •ì ì¸ ì‚¬ìš©ì ê²½í—˜ì„ ë³´ì¥í•©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Error Codes -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸš¨</span> ì—ëŸ¬ ì½”ë“œ ì²´ê³„
            </h3>
            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ì—ëŸ¬ ì½”ë“œ</th>
                            <th>HTTP</th>
                            <th>ì„¤ëª…</th>
                            <th>ì‚¬ìš©ì ë©”ì‹œì§€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>SQL_VALIDATION_ERROR</code></td>
                            <td>422</td>
                            <td>SQL ê²€ì¦ ì‹¤íŒ¨</td>
                            <td style="font-size: 0.85rem;">ì§ˆë¬¸ì„ SQLë¡œ ë³€í™˜í–ˆìœ¼ë‚˜ ì•ˆì „ ê²€ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_EXECUTION_ERROR</code></td>
                            <td>500</td>
                            <td>SQL ì‹¤í–‰ ì˜¤ë¥˜</td>
                            <td style="font-size: 0.85rem;">SQL ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_TIMEOUT_ERROR</code></td>
                            <td>504</td>
                            <td>íƒ€ì„ì•„ì›ƒ (5ì´ˆ ì´ˆê³¼)</td>
                            <td style="font-size: 0.85rem;">ì¡°íšŒ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_COST_EXCEEDED</code></td>
                            <td>422</td>
                            <td>ë¹„ìš© ìƒí•œ ì´ˆê³¼</td>
                            <td style="font-size: 0.85rem;">ì¿¼ë¦¬ ë¹„ìš©ì´ ë†’ì•„ ì‹¤í–‰ì´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_PERMISSION_ERROR</code></td>
                            <td>403</td>
                            <td>ê¶Œí•œ ë¶€ì¡±</td>
                            <td style="font-size: 0.85rem;">í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ì¡°íšŒ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_GENERATION_FAILED</code></td>
                            <td>500</td>
                            <td>SQL ìƒì„± ì‹¤íŒ¨</td>
                            <td style="font-size: 0.85rem;">ì§ˆë¬¸ì„ SQLë¡œ ë³€í™˜í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</td>
                        </tr>
                        <tr>
                            <td><code>SQL_NO_RESULTS</code></td>
                            <td>200</td>
                            <td>ê²°ê³¼ 0ê±´</td>
                            <td style="font-size: 0.85rem;">ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Fallback Strategy -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”„</span> ëŒ€ì²´ ì‘ë‹µ ì „ëµ (Fallback)
            </h3>
            <div class="steps-container" style="margin-bottom: var(--spacing-3xl);">
                <div class="step-item" data-step="1">
                    <h4 class="step-title">ì—ëŸ¬ ë³´ì • ì¬ì‹œë„ (ìµœëŒ€ 2íšŒ)</h4>
                    <p class="step-desc">ì—ëŸ¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ í¬í•¨í•˜ì—¬ SQL ì¬ìƒì„±. ì¬ì‹œë„ ì‹œ ì˜ë¯¸ ë³´ì¡´ ê²€ì¦ (ê¸°ê°„ì¡°ê±´, ìƒíƒœê°’, ì§‘ê³„ëŒ€ìƒ ë¶ˆë³€ í™•ì¸).</p>
                </div>
                <div class="step-item" data-step="2">
                    <h4 class="step-title">í…Œì´ë¸” ë²”ìœ„ ì¶•ì†Œ</h4>
                    <p class="step-desc">ê´€ë ¨ í…Œì´ë¸” 1ê°œë¡œ ì œí•œí•˜ì—¬ ì¬ì‹œë„. ë³µì¡í•œ JOINì„ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="step-item" data-step="3">
                    <h4 class="step-title">RAG Fallback</h4>
                    <p class="step-desc">SQL í¬ê¸°, ê¸°ì¡´ RAG íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ìë™ ì „í™˜. "ë°ì´í„° ì¡°íšŒì— ì‹¤íŒ¨í•˜ì—¬ ë¬¸ì„œ ê²€ìƒ‰ ê²°ê³¼ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤" ì•ˆë‚´.</p>
                </div>
                <div class="step-item" data-step="4">
                    <h4 class="step-title">ì§ˆì˜ ì¬ì‘ì„± ìœ ë„</h4>
                    <p class="step-desc">RAGë„ ê²°ê³¼ ì—†ìœ¼ë©´ "ë‹¤ìŒê³¼ ê°™ì´ ì§ˆë¬¸ì„ ë°”ê¿”ë³´ì„¸ìš”: [ì˜ˆì‹œ]" ì œì•ˆ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
                </div>
            </div>

            <!-- Semantic Preservation -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”</span> ì¬ì‹œë„ ì‹œ ì˜ë¯¸ ë³´ì¡´ ê²€ì¦
            </h3>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ë³´ì¡´ í•­ëª©</th>
                            <th>ê²€ì¦ ë°©ë²•</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ê¸°ê°„ ì¡°ê±´</strong></td>
                            <td>ì›ë³¸ SQLì˜ DATE/TIMESTAMP ì¡°ê±´ê³¼ ì¬ìƒì„± SQLì˜ ì¡°ê±´ ë¹„êµ. ê¸°ê°„ì´ ë³€ê²½ë˜ì—ˆìœ¼ë©´ ê±°ë¶€.</td>
                        </tr>
                        <tr>
                            <td><strong>ìƒíƒœê°’ í•„í„°</strong></td>
                            <td>WHERE ì ˆì˜ ìƒíƒœê°’(active, overdue ë“±) ìœ ì§€ ì—¬ë¶€ í™•ì¸</td>
                        </tr>
                        <tr>
                            <td><strong>ì§‘ê³„ ëŒ€ìƒ</strong></td>
                            <td>SELECT ì ˆì˜ ì§‘ê³„ í•¨ìˆ˜(COUNT, SUM ë“±)ì™€ ëŒ€ìƒ ì»¬ëŸ¼ ìœ ì§€ ì—¬ë¶€ í™•ì¸</td>
                        </tr>
                        <tr>
                            <td><strong>ëŒ€ìƒ í…Œì´ë¸”</strong></td>
                            <td>í•µì‹¬ í…Œì´ë¸”ì´ ì œê±°ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸. ë³€ì§ˆ ê°ì§€ ì‹œ Fallback ì „í™˜.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- API Design Section -->
    <section class="section" id="api">
        <div class="container">
            <div class="section-header">
                <span class="section-label">API Design</span>
                <h2 class="section-title">API ì„¤ê³„</h2>
                <p class="section-description">
                    ì‹ ê·œ SQL ì „ìš© ì—”ë“œí¬ì¸íŠ¸ 4ê°œ + ê¸°ì¡´ RAG ì—”ë“œí¬ì¸íŠ¸ì— <code>queryMode</code> í™•ì¥.
                </p>
            </div>

            <!-- POST /sql/query -->
            <div style="margin-bottom: var(--spacing-3xl);">
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-lg); display: flex; align-items: center; gap: 8px;">
                    <span class="method-badge post" style="background: rgba(59, 130, 246, 0.2);">POST</span>
                    <code>/sql/query</code>
                    <span style="font-size: 0.85rem; color: var(--color-text-muted); margin-left: 8px;">ë…ë¦½ Text-to-SQL ì¡°íšŒ</span>
                </h3>
                <div class="features-grid" style="grid-template-columns: 1fr 1fr;">
                    <div>
                        <h4 style="color: var(--color-text-secondary); margin-bottom: var(--spacing-sm); font-size: 0.9rem;">ìš”ì²­</h4>
                        <div class="code-block" data-lang="JSON">
<code>{
  <span class="string">"question"</span>: <span class="string">"ì´ë²ˆ ë‹¬ ì‹ ê·œ ê°€ì…ì ìˆ˜ëŠ”?"</span>,
  <span class="string">"tables"</span>: [<span class="string">"subscribers"</span>],
  <span class="string">"maxRows"</span>: 100,
  <span class="string">"offset"</span>: 0,
  <span class="string">"model"</span>: null
}</code>
                        </div>
                    </div>
                    <div>
                        <h4 style="color: var(--color-text-secondary); margin-bottom: var(--spacing-sm); font-size: 0.9rem;">ì‘ë‹µ (ì„±ê³µ)</h4>
                        <div class="code-block" data-lang="JSON">
<code>{
  <span class="string">"sql"</span>: <span class="string">"SELECT COUNT(*) AS ..."</span>,
  <span class="string">"columns"</span>: [<span class="string">"ì‹ ê·œê°€ì…ììˆ˜"</span>],
  <span class="string">"rows"</span>: [[42]],
  <span class="string">"row_count"</span>: 1,
  <span class="string">"total_count"</span>: 42,
  <span class="string">"natural_language_summary"</span>:
    <span class="string">"ì´ë²ˆ ë‹¬ ì‹ ê·œ ê°€ì…ìëŠ” ì´ 42ëª…ì…ë‹ˆë‹¤."</span>,
  <span class="string">"caveats"</span>: [<span class="string">"ì´ë²ˆ ë‹¬ = 2026ë…„ 2ì›” ê¸°ì¤€"</span>],
  <span class="string">"execution_time_ms"</span>: 23.5,
  <span class="string">"validation_passed"</span>: true,
  <span class="string">"retries_used"</span>: 0
}</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Endpoints -->
            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ë©”ì„œë“œ</th>
                            <th>ì—”ë“œí¬ì¸íŠ¸</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="method-badge get">GET</span></td>
                            <td><code>/sql/schema</code></td>
                            <td>ì‚¬ìš© ê°€ëŠ¥í•œ í…Œì´ë¸” ëª©ë¡ + ì„¤ëª… + ì»¬ëŸ¼ ìˆ˜ + í–‰ ìˆ˜ ì¶”ì •ê°’</td>
                        </tr>
                        <tr>
                            <td><span class="method-badge get">GET</span></td>
                            <td><code>/sql/schema/{table}</code></td>
                            <td>í…Œì´ë¸” ìƒì„¸ ìŠ¤í‚¤ë§ˆ (ì»¬ëŸ¼ ëª©ë¡, PII ì—¬ë¶€, íƒ€ì…, ìƒ˜í”Œ ë°ì´í„°, Few-shot ì˜ˆì œ)</td>
                        </tr>
                        <tr>
                            <td><span class="method-badge post" style="background: rgba(59, 130, 246, 0.2);">POST</span></td>
                            <td><code>/sql/validate</code></td>
                            <td>SQL ê²€ì¦ë§Œ ìˆ˜í–‰ (ì‹¤í–‰ ì—†ìŒ). ìœ íš¨ì„±, ìœ„ë°˜ í•­ëª©, ì •ì œëœ SQL, ì˜ˆìƒ ë¹„ìš© ë°˜í™˜</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- queryMode Extension -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”€</span> ê¸°ì¡´ POST /rag/query í™•ì¥
            </h3>
            <div class="features-grid" style="grid-template-columns: repeat(4, 1fr);">
                <div class="info-card" style="flex-direction: column; text-align: center;">
                    <div class="info-icon cyan" style="margin-bottom: var(--spacing-sm);">ğŸ”„</div>
                    <h4 style="font-size: 0.95rem;">auto</h4>
                    <p style="font-size: 0.8rem;">ê¸°ë³¸ê°’. Query Routerê°€ ìë™ íŒë³„</p>
                </div>
                <div class="info-card" style="flex-direction: column; text-align: center;">
                    <div class="info-icon blue" style="margin-bottom: var(--spacing-sm);">ğŸ“„</div>
                    <h4 style="font-size: 0.95rem;">rag</h4>
                    <p style="font-size: 0.8rem;">ê¸°ì¡´ RAGë§Œ ì‚¬ìš©</p>
                </div>
                <div class="info-card" style="flex-direction: column; text-align: center;">
                    <div class="info-icon green" style="margin-bottom: var(--spacing-sm);">ğŸ”¢</div>
                    <h4 style="font-size: 0.95rem;">sql</h4>
                    <p style="font-size: 0.8rem;">Text-to-SQLë§Œ ì‚¬ìš©</p>
                </div>
                <div class="info-card" style="flex-direction: column; text-align: center;">
                    <div class="info-icon purple" style="margin-bottom: var(--spacing-sm);">ğŸ”€</div>
                    <h4 style="font-size: 0.95rem;">hybrid</h4>
                    <p style="font-size: 0.8rem;">ì–‘ìª½ ê²°ê³¼ í†µí•©</p>
                </div>
            </div>
        </div>
    </section>

    <!-- LLM Prompt Strategy Section -->
    <section class="section" id="prompt">
        <div class="container">
            <div class="section-header">
                <span class="section-label">LLM Strategy</span>
                <h2 class="section-title">LLM í”„ë¡¬í”„íŠ¸ ì „ëµ</h2>
                <p class="section-description">
                    SQL ìƒì„± í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿, Few-shot ì„ íƒ ê¸°ì¤€, ì—ëŸ¬ ë³´ì • ë£¨í”„ë¡œ SQL ìƒì„± ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Prompt Template -->
            <div class="code-block" data-lang="Prompt" style="margin-bottom: var(--spacing-3xl);">
<code><span class="comment">ë‹¹ì‹ ì€ PostgreSQL SQL ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ í•œêµ­ì–´ ì§ˆë¬¸ì„ ì½ê³  ì •í™•í•œ SQL SELECT ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ì„¸ìš”.</span>

<span class="keyword">### ê·œì¹™</span>
1. SELECT ë¬¸ë§Œ ìƒì„±í•˜ì„¸ìš”. INSERT/UPDATE/DELETE/DROP ë“± ê¸ˆì§€.
2. PostgreSQL ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì„¸ìš”.
3. ë°˜ë“œì‹œ ì•„ë˜ ìŠ¤í‚¤ë§ˆì— ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.
4. í•œêµ­ì–´ ë¬¸ìì—´ ê°’ì€ ì‘ì€ë”°ì˜´í‘œë¡œ ê°ì‹¸ì„¸ìš”.
5. ê²°ê³¼ í–‰ ìˆ˜ê°€ ë¶ˆí™•ì‹¤í•˜ë©´ LIMIT 100ì„ ì¶”ê°€í•˜ì„¸ìš”.
6. ì»¬ëŸ¼ ë³„ì¹­ì€ í•œêµ­ì–´ë¡œ ì§€ì •í•˜ì„¸ìš” (ì˜ˆ: COUNT(*) AS ê±´ìˆ˜).
7. SQLë§Œ ì¶œë ¥í•˜ì„¸ìš”. ì„¤ëª…ì´ë‚˜ ì½”ë“œë¸”ë¡ì€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.
8. [ë§ˆìŠ¤í‚¹ ëŒ€ìƒ] ì»¬ëŸ¼ì€ ì§ì ‘ SELECTí•˜ì§€ ë§ˆì„¸ìš”.

<span class="function">{schema_context}</span>
<span class="function">{few_shot_examples}</span>
<span class="function">{retry_error_context}</span>

<span class="keyword">### ì§ˆë¬¸</span>
<span class="function">{question}</span></code>
            </div>

            <!-- Error Correction Loop -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”„</span> ì—ëŸ¬ ë³´ì • ë£¨í”„
            </h3>
            <div class="architecture-diagram" style="margin-bottom: var(--spacing-3xl);">
                <div class="layer" style="border-left: 3px solid var(--color-success);">
                    <div class="layer-title"><span>1ï¸âƒ£</span> ì‹œë„ 1</div>
                    <div class="layer-content">
                        <span class="layer-item">(ì§ˆë¬¸ + ìŠ¤í‚¤ë§ˆ + Few-shot) â†’ SQL ìƒì„± â†’ ê²€ì¦ â†’ ë¹„ìš©ê²€ì‚¬ â†’ ì‹¤í–‰</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid var(--color-warning);">
                    <div class="layer-title"><span>2ï¸âƒ£</span> ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„</div>
                    <div class="layer-content" style="flex-direction: column; gap: 4px;">
                        <span class="layer-item" style="width: 100%;">ì´ì „ SQL ê²€ì¦ ì‹¤íŒ¨ ì‚¬ìœ  í¬í•¨ â†’ ì¬ìƒì„±</span>
                        <span class="layer-item highlight" style="width: 100%;">ì˜ë¯¸ ë³´ì¡´ ê²€ì¦: ê¸°ê°„/ìƒíƒœ/ì§‘ê³„ ëŒ€ìƒ ë³€ê²½ ê°ì§€</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid var(--color-danger);">
                    <div class="layer-title"><span>3ï¸âƒ£</span> ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„</div>
                    <div class="layer-content" style="flex-direction: column; gap: 4px;">
                        <span class="layer-item" style="width: 100%;">PG ì—ëŸ¬ ë©”ì‹œì§€ í¬í•¨ â†’ ì¬ìƒì„±</span>
                        <span class="layer-item highlight" style="width: 100%;">ì˜ë¯¸ ë³´ì¡´ ê²€ì¦ ë™ì¼ ì ìš©</span>
                    </div>
                </div>
                <div class="layer" style="border-left: 3px solid var(--color-info);">
                    <div class="layer-title"><span>âŒ</span> ëª¨ë‘ ì‹¤íŒ¨</div>
                    <div class="layer-content">
                        <span class="layer-item">Fallback ì „ëµ ì ìš© (í…Œì´ë¸” ì¶•ì†Œ â†’ RAG â†’ ì¬ì‘ì„± ìœ ë„)</span>
                    </div>
                </div>
            </div>

            <!-- Model Recommendations -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ§ </span> ëª¨ë¸ ê¶Œì¥ ì‚¬í•­
            </h3>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>í™˜ê²½</th>
                            <th>ëª¨ë¸</th>
                            <th>VRAM</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ê°œë°œ PC (GTX 1660 Ti 6GB)</td>
                            <td><code>qwen2.5:3b-instruct-q4_K_M</code> (ê¸°ì¡´)</td>
                            <td>~2GB</td>
                        </tr>
                        <tr>
                            <td>ìš´ì˜ ì„œë²„</td>
                            <td><code>qwen2.5:7b-instruct-q4_K_M</code> ë˜ëŠ” <code>qwen2.5-coder:7b</code></td>
                            <td>~4.5GB</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Deployment & Operations Section -->
    <section class="section" id="deployment">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Deployment</span>
                <h2 class="section-title">ë°°í¬ ë° ìš´ì˜</h2>
                <p class="section-description">
                    ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • ë²”ìœ„, í™˜ê²½ë³„ ì„¤ì • ê¸°ì¤€ê°’, ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í¬í•¨í•œ ìš´ì˜ ê°€ì´ë“œì…ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Modified Files -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ“</span> ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • ë²”ìœ„
            </h3>
            <div class="features-grid" style="margin-bottom: var(--spacing-3xl);">
                <div class="info-card">
                    <div class="info-icon blue">âš™ï¸</div>
                    <div class="info-content">
                        <h4>app/settings.py</h4>
                        <p><code>TEXT_TO_SQL_*</code> í™˜ê²½ë³€ìˆ˜ 18ê°œ ì¶”ê°€</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-icon green">ğŸŒ</div>
                    <div class="info-content">
                        <h4>app/api.py</h4>
                        <p>Pydantic ëª¨ë¸ + 4ê°œ ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸ + queryMode ì¶”ê°€</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-icon purple">ğŸ”—</div>
                    <div class="info-content">
                        <h4>app/rag_orchestrator.py</h4>
                        <p>SQL íŒŒì´í”„ë¼ì¸ í˜¸ì¶œ + ì»¨í…ìŠ¤íŠ¸ ë³‘í•© + SSE ì´ë²¤íŠ¸ ì¶”ê°€</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-icon orange">ğŸ³</div>
                    <div class="info-content">
                        <h4>docker-compose.yml</h4>
                        <p>í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ + sql_reader ì—­í•  ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-icon cyan">ğŸ“¦</div>
                    <div class="info-content">
                        <h4>requirements.txt</h4>
                        <p><code>sqlparse>=0.5.0</code> 1ê°œ íŒ¨í‚¤ì§€ ì¶”ê°€</p>
                    </div>
                </div>
            </div>

            <!-- Environment Settings -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">ğŸ”§</span> í™˜ê²½ë³„ ì„¤ì • ê¸°ì¤€ê°’
            </h3>
            <div class="table-container" style="margin-bottom: var(--spacing-3xl);">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ì„¤ì •</th>
                            <th>ê°œë°œ (PC)</th>
                            <th>ìŠ¤í…Œì´ì§•</th>
                            <th>ìš´ì˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>TIMEOUT_MS</code></td>
                            <td>10000</td>
                            <td>5000</td>
                            <td>5000</td>
                        </tr>
                        <tr>
                            <td><code>MAX_ROWS</code></td>
                            <td>1000</td>
                            <td>500</td>
                            <td>1000</td>
                        </tr>
                        <tr>
                            <td><code>MAX_COST</code></td>
                            <td>50000</td>
                            <td>10000</td>
                            <td>10000</td>
                        </tr>
                        <tr>
                            <td><code>COST_CHECK_ENABLED</code></td>
                            <td>false</td>
                            <td>true</td>
                            <td>true</td>
                        </tr>
                        <tr>
                            <td><code>CONCURRENCY</code></td>
                            <td>4</td>
                            <td>2</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td><code>MODEL</code></td>
                            <td>(ê¸°ë³¸ëª¨ë¸)</td>
                            <td>(ê¸°ë³¸ëª¨ë¸)</td>
                            <td>qwen2.5:7b</td>
                        </tr>
                        <tr>
                            <td>ë¡œê¹… ë ˆë²¨</td>
                            <td>DEBUG</td>
                            <td>INFO</td>
                            <td>WARN</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Rollback -->
            <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                <span class="text-gradient">âª</span> ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤
            </h3>
            <div class="features-grid" style="grid-template-columns: 1fr 1fr; margin-bottom: var(--spacing-lg);">
                <div class="card" style="border-color: rgba(239, 68, 68, 0.3);">
                    <h3 class="card-title" style="color: #ef4444;">Step 1: ê¸°ëŠ¥ ë¹„í™œì„±í™”</h3>
                    <div class="code-block" data-lang="bash" style="margin-top: var(--spacing-md);">
<code><span class="comment"># .env ìˆ˜ì •</span>
TEXT_TO_SQL_ENABLED=<span class="keyword">false</span>

<span class="comment"># API ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘</span>
docker compose restart api</code>
                    </div>
                </div>
                <div class="card" style="border-color: rgba(16, 185, 129, 0.3);">
                    <h3 class="card-title" style="color: #10b981;">Step 3: ë°ì´í„° ì •í•©ì„±</h3>
                    <p class="card-description">
                        SQL ê´€ë ¨ DB í…Œì´ë¸”ì€ <strong>ì‚­ì œí•˜ì§€ ì•ŠìŒ</strong> (ë°ì´í„° ë³´ì¡´).<br>
                        ê¸°ì¡´ RAG íŒŒì´í”„ë¼ì¸ì€ ì˜í–¥ ì—†ìŒ.<br>
                        ì¬í™œì„±í™”: <code>TEXT_TO_SQL_ENABLED=true</code> í›„ ì¬ì‹œì‘.
                    </p>
                </div>
            </div>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Step 2: ê²€ì¦ í•­ëª©</th>
                            <th>í™•ì¸ ë°©ë²•</th>
                            <th>ê¸°ëŒ€ ê²°ê³¼</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>SQL ì—”ë“œí¬ì¸íŠ¸ ë¹„í™œì„±í™”</td>
                            <td><code>curl /sql/query</code></td>
                            <td>404 ë˜ëŠ” "ê¸°ëŠ¥ ë¹„í™œì„±í™”" ì‘ë‹µ</td>
                        </tr>
                        <tr>
                            <td>RAG queryMode=sql ë¬´ì‹œ</td>
                            <td><code>POST /rag/query {"queryMode":"sql"}</code></td>
                            <td>RAGë¡œ ì²˜ë¦¬, SQL ë¬´ì‹œ</td>
                        </tr>
                        <tr>
                            <td>SSE ìŠ¤íŠ¸ë¦¬ë° ì •ìƒ</td>
                            <td><code>POST /rag/query/stream</code></td>
                            <td>SQL ë‹¨ê³„ ì´ë²¤íŠ¸ ë¯¸ë°œìƒ</td>
                        </tr>
                        <tr>
                            <td>ê¸°ì¡´ RAG ì •ìƒ ë™ì‘</td>
                            <td><code>POST /rag/query {"question":"í…ŒìŠ¤íŠ¸"}</code></td>
                            <td>ê¸°ì¡´ê³¼ ë™ì¼í•œ ì‘ë‹µ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Roadmap Section -->
    <section class="section" id="roadmap">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Roadmap</span>
                <h2 class="section-title">êµ¬í˜„ ë¡œë“œë§µ</h2>
                <p class="section-description">
                    5ê°œ Phaseë¡œ ë‹¨ê³„ì  êµ¬í˜„. ê° PhaseëŠ” ë…ë¦½ì ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="steps-container">
                <div class="step-item" data-step="1">
                    <h4 class="step-title">Phase 1: ê¸°ë°˜ êµ¬ì¶•</h4>
                    <p class="step-desc">
                        settings.py í™˜ê²½ë³€ìˆ˜ ì¶”ê°€, sql_store.py ìƒì„±, ì‹œìŠ¤í…œ í…Œì´ë¸” 3ê°œ ìƒì„±, sql_reader ì—­í•  ìƒì„± + ê¶Œí•œ ê²€ì¦,
                        ìƒ˜í”Œ ë¹„ì¦ˆë‹ˆìŠ¤ í…Œì´ë¸” + í…ŒìŠ¤íŠ¸ ë°ì´í„°, sql_schema_catalog í•œêµ­ì–´ ì„¤ëª… ë“±ë¡.
                    </p>
                </div>
                <div class="step-item" data-step="2">
                    <h4 class="step-title">Phase 2: í•µì‹¬ ì—”ì§„</h4>
                    <p class="step-desc">
                        text_to_sql.py ìƒì„± â€” SchemaMetadataManager, SQLGenerator, SQLValidator (í—ˆìš©ëª©ë¡ ì£¼ í†µì œ),
                        CostEstimator (í™˜ê²½ë³„ ì •ì±…), SQLExecutor (ë™ì‹œì„± ì œì–´ + total_count), ResultFormatter (PII ë§ˆìŠ¤í‚¹),
                        ì˜ë¯¸ ë³´ì¡´ ê²€ì¦. requirements.txtì— sqlparse ì¶”ê°€. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±.
                    </p>
                </div>
                <div class="step-item" data-step="3">
                    <h4 class="step-title">Phase 3: API ì—°ë™</h4>
                    <p class="step-desc">
                        api.pyì— 4ê°œ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€, Pydantic ëª¨ë¸, ì—ëŸ¬ ì½”ë“œ ì²´ê³„ ì ìš©,
                        sql_query_log ê°ì‚¬ ë¡œê·¸ ê¸°ë¡, Fallback ì „ëµ êµ¬í˜„, í†µí•© í…ŒìŠ¤íŠ¸.
                    </p>
                </div>
                <div class="step-item" data-step="4">
                    <h4 class="step-title">Phase 4: RAG í†µí•©</h4>
                    <p class="step-desc">
                        query_router.py ìƒì„±, Query ëª¨ë¸ì— queryMode ì¶”ê°€,
                        rag_orchestrator.py ìˆ˜ì • (SQL íŒŒì´í”„ë¼ì¸ + ì»¨í…ìŠ¤íŠ¸ ë³‘í•© + ê²©ë¦¬ëœ LLM í˜¸ì¶œ),
                        Hybrid ì¶©ëŒ í•´ê²°, SSE ì´ë²¤íŠ¸ ì¶”ê°€.
                    </p>
                </div>
                <div class="step-item" data-step="5">
                    <h4 class="step-title">Phase 5: í”„ë¡ íŠ¸ì—”ë“œ + ë§ˆë¬´ë¦¬</h4>
                    <p class="step-desc">
                        í”„ë¡ íŠ¸ì—”ë“œ SQL ì¡°íšŒ íƒ­/í† ê¸€, ìŠ¤í‚¤ë§ˆ ë¸Œë¼ìš°ì € UI, SQL ê²°ê³¼ í…Œì´ë¸” ë Œë”ë§,
                        docker-compose.yml í™˜ê²½ë³€ìˆ˜, í™˜ê²½ë³„ ì„¤ì • ì ìš©, ë¡¤ë°± ì²´í¬ë¦¬ìŠ¤íŠ¸ ê²€ì¦, ë¬¸ì„œ ì •ë¦¬.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Flow Examples Section -->
    <section class="section" id="dataflow">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Data Flow</span>
                <h2 class="section-title">ë°ì´í„° íë¦„ ì˜ˆì‹œ</h2>
            </div>

            <!-- Example 1: Standalone SQL -->
            <div style="margin-bottom: var(--spacing-3xl);">
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">1ï¸âƒ£</span> ë…ë¦½ SQL ì¡°íšŒ
                </h3>
                <div class="info-card" style="margin-bottom: var(--spacing-md); border-color: var(--color-accent-primary);">
                    <div class="info-icon cyan">ğŸ’¬</div>
                    <div class="info-content">
                        <h4>"ì´ë²ˆ ë‹¬ ë¯¸ë‚© ê±´ìˆ˜ëŠ”?"</h4>
                        <p>POST /sql/query</p>
                    </div>
                </div>
                <div class="architecture-diagram" style="padding: var(--spacing-lg);">
                    <div class="layer">
                        <div class="layer-content" style="flex-direction: column; gap: 6px;">
                            <span class="layer-item" style="width: 100%;"><strong>1.</strong> RBAC ê¶Œí•œ í™•ì¸ â†’ sql:execute í†µê³¼</span>
                            <span class="layer-item" style="width: 100%;"><strong>2.</strong> SchemaMetadataManager â†’ payment_history ìŠ¤í‚¤ë§ˆ ë¡œë“œ</span>
                            <span class="layer-item" style="width: 100%;"><strong>3.</strong> SQLGenerator â†’ <code>SELECT COUNT(*) AS ë¯¸ë‚©ê±´ìˆ˜ FROM payment_history WHERE payment_status = 'overdue' AND ...</code></span>
                            <span class="layer-item" style="width: 100%;"><strong>4.</strong> SQLValidator â†’ ë‹¨ì¼ SELECT, í…Œì´ë¸” í—ˆìš©, PII ë¯¸ì ‘ê·¼ â†’ í†µê³¼</span>
                            <span class="layer-item" style="width: 100%;"><strong>5.</strong> CostEstimator â†’ ë¹„ìš© 120 (ìƒí•œ 10000 ì´ë‚´) â†’ í†µê³¼</span>
                            <span class="layer-item" style="width: 100%;"><strong>6.</strong> SQLExecutor â†’ ì‹¤í–‰ â†’ rows=[[7]], total_count=7</span>
                            <span class="layer-item highlight" style="width: 100%;"><strong>7.</strong> ResultFormatter â†’ "ì´ë²ˆ ë‹¬ ë¯¸ë‚© ê±´ìˆ˜ëŠ” ì´ 7ê±´ì…ë‹ˆë‹¤." + caveats</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Example 2: Hybrid -->
            <div style="margin-bottom: var(--spacing-3xl);">
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">2ï¸âƒ£</span> í•˜ì´ë¸Œë¦¬ë“œ ì¡°íšŒ
                </h3>
                <div class="info-card" style="margin-bottom: var(--spacing-md); border-color: #a855f7;">
                    <div class="info-icon purple">ğŸ’¬</div>
                    <div class="info-content">
                        <h4>"ì²­ë…„ë‚´ì¼ì±„ì›€ê³µì œ ë¯¸ë‚© í˜„í™©ê³¼ ì²˜ë¦¬ ì ˆì°¨ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”"</h4>
                        <p>POST /rag/query {"queryMode": "auto"} â†’ Router: "hybrid"</p>
                    </div>
                </div>
                <div class="features-grid" style="grid-template-columns: 1fr 1fr;">
                    <div class="card" style="border-color: rgba(59, 130, 246, 0.3);">
                        <div class="card-icon" style="background: rgba(59, 130, 246, 0.2); color: #3b82f6;">ğŸ“„</div>
                        <h3 class="card-title">RAG íŒŒì´í”„ë¼ì¸</h3>
                        <p class="card-description">
                            ì„ë² ë”© â†’ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ â†’ ë¦¬ë­í‚¹ â†’ "ì²˜ë¦¬ ì ˆì°¨" ê´€ë ¨ ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ
                        </p>
                    </div>
                    <div class="card" style="border-color: rgba(6, 182, 212, 0.3);">
                        <div class="card-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">ğŸ”¢</div>
                        <h3 class="card-title">SQL íŒŒì´í”„ë¼ì¸ (ê²©ë¦¬)</h3>
                        <p class="card-description">
                            ìŠ¤í‚¤ë§ˆ(ê´€ë ¨ í…Œì´ë¸”ë§Œ) â†’ SQL ìƒì„±(ë…ë¦½ LLM í˜¸ì¶œ) â†’ ê²€ì¦ â†’ ë¹„ìš©ê²€ì‚¬ â†’ ì‹¤í–‰ â†’ "ë¯¸ë‚© í˜„í™©" ë°ì´í„°
                        </p>
                    </div>
                </div>
                <div class="info-card" style="margin-top: var(--spacing-md); border-color: var(--color-success);">
                    <div class="info-icon green">ğŸ”—</div>
                    <div class="info-content">
                        <h4>Context Merger (ì¶©ëŒ ì‹œ SQL ìš°ì„ )</h4>
                        <p>SQL ì‹¤ì‹œê°„ ë°ì´í„° + RAG ë¬¸ì„œë¥¼ ê²°í•©í•˜ì—¬ LLMì´ í†µí•© ë‹µë³€ ìƒì„±. answer + citations + sql_result ë°˜í™˜.</p>
                    </div>
                </div>
            </div>

            <!-- Example 3: Failure Fallback -->
            <div>
                <h3 style="color: var(--color-text-primary); margin-bottom: var(--spacing-xl); display: flex; align-items: center; gap: 8px;">
                    <span class="text-gradient">3ï¸âƒ£</span> ì‹¤íŒ¨ â†’ Fallback íë¦„
                </h3>
                <div class="info-card" style="margin-bottom: var(--spacing-md); border-color: var(--color-warning);">
                    <div class="info-icon orange">ğŸ’¬</div>
                    <div class="info-content">
                        <h4>"ìµœê·¼ 3ê°œì›” ë¶€ì„œë³„ ê°€ì… ì¶”ì´ë¥¼ ë³´ì—¬ì¤˜"</h4>
                        <p>POST /sql/query â†’ ë³µì¡í•œ ì¿¼ë¦¬ â†’ ê²€ì¦ ì‹¤íŒ¨ â†’ ì¬ì‹œë„ â†’ ë¹„ìš© ì´ˆê³¼ â†’ ì¬ì‹œë„ â†’ ì„±ê³µ</p>
                    </div>
                </div>
                <div class="architecture-diagram" style="padding: var(--spacing-lg);">
                    <div class="layer" style="border-left: 3px solid var(--color-danger);">
                        <div class="layer-content" style="flex-direction: column; gap: 4px;">
                            <span class="layer-item" style="width: 100%;"><strong>ì‹œë„ 1:</strong> SQL ìƒì„± â†’ ê²€ì¦ ì‹¤íŒ¨ (ë¯¸ë“±ë¡ í•¨ìˆ˜ ì‚¬ìš©)</span>
                        </div>
                    </div>
                    <div class="layer" style="border-left: 3px solid var(--color-warning);">
                        <div class="layer-content" style="flex-direction: column; gap: 4px;">
                            <span class="layer-item" style="width: 100%;"><strong>ì¬ì‹œë„ 1:</strong> ì—ëŸ¬ ì»¨í…ìŠ¤íŠ¸ â†’ ì¬ìƒì„± â†’ ì˜ë¯¸ ë³´ì¡´ í†µê³¼ â†’ ê²€ì¦ í†µê³¼</span>
                            <span class="layer-item" style="width: 100;"><strong>ë¹„ìš© ê²€ì‚¬:</strong> ë¹„ìš© 15000 â†’ ìƒí•œ 10000 ì´ˆê³¼</span>
                        </div>
                    </div>
                    <div class="layer" style="border-left: 3px solid var(--color-success);">
                        <div class="layer-content" style="flex-direction: column; gap: 4px;">
                            <span class="layer-item highlight" style="width: 100%;"><strong>ì¬ì‹œë„ 2:</strong> "ì¸ë±ìŠ¤ í™œìš©" â†’ ì¬ìƒì„± â†’ ì˜ë¯¸ ë³´ì¡´ í†µê³¼ â†’ ë¹„ìš© 8000 â†’ ì‹¤í–‰ ì„±ê³µ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Policy Decisions Section -->
    <section class="section" id="policy">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Policy</span>
                <h2 class="section-title">ì •ì±… ê²°ì • ì‚¬í•­</h2>
                <p class="section-description">
                    êµ¬í˜„ ì‹œ í•´ì„ ì°¨ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ í™•ì •ëœ ì •ì±…ì…ë‹ˆë‹¤.
                </p>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ì •ì±…</th>
                            <th>ê²°ì •</th>
                            <th>í™˜ê²½ë³€ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SQL ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ìš°ì„ ìˆœìœ„</strong></td>
                            <td>í”„ë¡¬í”„íŠ¸ ìˆ˜ì • â†’ í…Œì´ë¸” ë²”ìœ„ ì¶•ì†Œ â†’ RAG fallback</td>
                            <td><code>MAX_RETRIES=2</code></td>
                        </tr>
                        <tr>
                            <td><strong>queryMode=auto ë¶„ë¥˜ ê¸°ì¤€</strong></td>
                            <td>ê·œì¹™ê¸°ë°˜ ë‹¨ë…ìœ¼ë¡œ ì‹œì‘. ì •í™•ë„ ë¶€ì¡± ì‹œ LLM ë³´ì¡° ë„ì…</td>
                            <td><code>ROUTE_MODE=auto</code></td>
                        </tr>
                        <tr>
                            <td><strong>ê²°ê³¼ ìš”ì•½ ë°©ì‹</strong></td>
                            <td>ë‹¨ìˆœ ì§‘ê³„ëŠ” í…œí”Œë¦¿, ë³µí•© ê²°ê³¼(2ê°œ ì´ìƒ ì»¬ëŸ¼)ëŠ” LLM</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>ìš´ì˜ ëª¨ë¸ ì„ íƒ</strong></td>
                            <td>ë‹¨ì¼ ê³µìš© ëª¨ë¸ë¡œ ì‹œì‘. SQL ì •í™•ë„ 80% ë¯¸ë§Œ ì‹œ ì „ìš© ëª¨ë¸ ë¶„ë¦¬</td>
                            <td><code>MODEL=</code></td>
                        </tr>
                        <tr>
                            <td><strong>EXPLAIN ë¹„ìš© ê²€ì‚¬</strong></td>
                            <td>ê°œë°œ: off / ìš´ì˜: on</td>
                            <td><code>COST_CHECK_ENABLED</code></td>
                        </tr>
                        <tr>
                            <td><strong>ë¹„ìš© ì´ˆê³¼ ì‹œ ì¬ì‹œë„</strong></td>
                            <td>ì´ ì¬ì‹œë„ íšŸìˆ˜ì— í¬í•¨ (ë³„ë„ ì¦ê°€ ì—†ìŒ)</td>
                            <td><code>MAX_RETRIES=2</code></td>
                        </tr>
                        <tr>
                            <td><strong>total_count ì‚°ì¶œ</strong></td>
                            <td>ê²°ê³¼ &lt; LIMITì´ë©´ í–‰ìˆ˜, ì•„ë‹ˆë©´ ë³„ë„ COUNT. ë¹„ìš© ë†’ìœ¼ë©´ null</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>ì ‘ê·¼ í†µì œ ì£¼ ìˆ˜ë‹¨</strong></td>
                            <td>ì•± ë ˆë²¨ SQLValidator í—ˆìš©ëª©ë¡ (DB ì—­í• ì€ ë³´ì¡°)</td>
                            <td><code>ALLOWED_TABLES</code></td>
                        </tr>
                        <tr>
                            <td><strong>Hybrid ì¶©ëŒ ìš°ì„ ìˆœìœ„</strong></td>
                            <td>SQL(ì‹¤ì‹œê°„ ë°ì´í„°) ìš°ì„ , caveatsì— ì•ˆë‚´</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>ì˜ë¯¸ ë³´ì¡´ ê²€ì¦</strong></td>
                            <td>ì¬ì‹œë„ ì‹œ ê¸°ê°„/ìƒíƒœ/ì§‘ê³„ ëŒ€ìƒ ë³€ê²½ ê°ì§€ â†’ ë³€ê²½ ì‹œ fallback</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section" id="contact">
        <div class="container">
            <div class="cta-section">
                <div class="cta-content">
                    <h2 class="cta-title">Text-to-SQL ê¸°ëŠ¥ êµ¬í˜„ì„ ê²€í†  ì¤‘ì´ì‹ ê°€ìš”?</h2>
                    <p class="cta-description">
                        ê¸°ì¡´ RAG ì‹œìŠ¤í…œì— ì •í˜• ë°ì´í„° ì¡°íšŒ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬
                        ë”ìš± ê°•ë ¥í•œ í•˜ì´ë¸Œë¦¬ë“œ AI ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì„¸ìš”.
                    </p>
                    <div style="display: flex; gap: var(--spacing-md); justify-content: center; flex-wrap: wrap;">
                        <a href="mailto:oys@wrsoft.co.kr" class="btn btn-primary">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            ì´ë©”ì¼ ë¬¸ì˜í•˜ê¸°
                        </a>
                        <a href="tobe_proposal.html" class="btn btn-secondary">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                            </svg>
                            ê³ ë„í™” ë¡œë“œë§µ ë³´ê¸°
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span>ğŸ§ </span> RAG System
                    </div>
                    <p class="footer-desc">
                        FastAPI, LlamaIndex, PostgreSQL + pgvector ê¸°ë°˜ì˜ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ RAG í”Œë«í¼.
                        ì‚¬ë‚´ ë¬¸ì„œì™€ ì™¸ë¶€ ì§€ì‹ì„ í†µí•©í•˜ì—¬ AI ê¸°ë°˜ ì§€ëŠ¥í˜• ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.
                    </p>
                </div>
                <div class="footer-nav">
                    <h4>í˜ì´ì§€</h4>
                    <ul class="footer-links">
                        <li><a href="architecture.html">í˜„ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</a></li>
                        <li><a href="index.html">ì œì•ˆì„œ</a></li>
                        <li><a href="tobe_proposal.html">ê³ ë„í™” ëª¨ë¸</a></li>
                    </ul>
                </div>
                <div class="footer-nav">
                    <h4>Text-to-SQL</h4>
                    <ul class="footer-links">
                        <li><a href="#overview">ê°œìš”</a></li>
                        <li><a href="#architecture">ì•„í‚¤í…ì²˜</a></li>
                        <li><a href="#security">ë³´ì•ˆ</a></li>
                        <li><a href="#api">API ì„¤ê³„</a></li>
                    </ul>
                </div>
                <div class="footer-nav">
                    <h4>ë¦¬ì†ŒìŠ¤</h4>
                    <ul class="footer-links">
                        <li><a href="#roadmap">êµ¬í˜„ ë¡œë“œë§µ</a></li>
                        <li><a href="#policy">ì •ì±… ê²°ì •</a></li>
                        <li><a href="#contact">ë„ì… ë¬¸ì˜</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">
                    &copy; 2026 RAG System. ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-14
                </p>
                <div class="footer-social">
                    <a href="#" aria-label="GitHub">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                        </svg>
                    </a>
                    <a href="#" aria-label="Documentation">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');

        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe cards and sections for animation
        document.querySelectorAll('.card, .stat-card, .tech-card, .info-card, .step-item, .layer, .flow-box').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>

    <!-- AI Pattern Background Script -->
    <script src="bg-ai-pattern.js?v=20260214"></script>
</body>

</html>
