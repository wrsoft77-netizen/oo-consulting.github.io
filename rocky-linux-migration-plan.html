<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RAG ì‹œìŠ¤í…œ Rocky Linux 9.7 ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„¸ ê³„íšì„œ - í™˜ê²½ ì„¤ì •, Docker ë°°í¬, ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ">
    <meta name="keywords" content="Rocky Linux, Migration, Docker, GPU, Ollama, RAG">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>RAG ì‹œìŠ¤í…œ | ì„œë²„ êµ¬ì¶• ê°€ì´ë“œ</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css?v=20260214">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>">

    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        .code-block {
            margin-bottom: 1.5rem;
        }

        /* Hide language label (BASH, etc) to prevent overlap with copy button */
        .code-block::before {
            content: none !important;
            display: none !important;
        }

        .code-block code {
            white-space: pre-wrap;
            display: block;
            line-height: 1.6;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--color-text-secondary);
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border-color: rgba(255, 255, 255, 0.4);
        }

        .mermaid {
            background: rgba(30, 41, 59, 0.5);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            margin-bottom: 2rem;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
            color: var(--color-text-secondary);
        }

        .checklist-item input {
            margin-top: 0.3rem;
        }

        .troubleshoot-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .troubleshoot-title {
            color: var(--color-error);
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .command-desc {
            font-size: 0.9rem;
            color: var(--color-text-tertiary);
            margin-top: 0.5rem;
            border-left: 2px solid var(--color-primary);
            padding-left: 1rem;
        }
    </style>
</head>

<body>
    <!-- AI Pattern Background Canvas -->
    <div class="ai-canvas-container">
        <canvas id="ai-pattern-canvas"></canvas>
    </div>
    <div class="circuit-overlay"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container">
            <a href="architecture.html" class="logo">
                <span class="logo-icon">ğŸ§ </span>
                RAG System
            </a>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link dropdown-trigger">ì œì•ˆì„œ</a>
                    <div class="dropdown-menu">
                        <a href="index.html#overview" class="dropdown-link">í”„ë¡œì íŠ¸ ê°œìš”</a>
                        <a href="index.html#benefits" class="dropdown-link">ê¸°ëŒ€ íš¨ê³¼</a>
                        <a href="index.html#main-features" class="dropdown-link">ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸</a>
                        <a href="index.html#ingest-features" class="dropdown-link">ì¸ì œìŠ¤íŠ¸ ê¸°ëŠ¥</a>
                        <a href="index.html#ui-features" class="dropdown-link">ìš´ì˜ í™”ë©´ (UI)</a>
                        <a href="index.html#deployment" class="dropdown-link">ë°°í¬ ë° ìš´ìš©</a>
                        <a href="index.html#operation" class="dropdown-link">ìš´ì˜ í”„ë¡œì„¸ìŠ¤</a>
                        <a href="index.html#quick-start" class="dropdown-link">ë¹ ë¥¸ PoC ì‹¤í–‰</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="architecture.html" class="nav-link dropdown-trigger">ì•„í‚¤í…ì²˜</a>
                    <div class="dropdown-menu">
                        <a href="architecture.html#features" class="dropdown-link">í•µì‹¬ ê¸°ëŠ¥</a>
                        <a href="architecture.html#architecture" class="dropdown-link">ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</a>
                        <a href="architecture.html#tech-stack" class="dropdown-link">ê¸°ìˆ  ìŠ¤íƒ</a>
                        <a href="architecture.html#data-flow" class="dropdown-link">ë°ì´í„° íë¦„</a>
                        <a href="architecture.html#api" class="dropdown-link">API</a>
                        <a href="architecture.html#formats" class="dropdown-link">ì§€ì› íŒŒì¼ í˜•ì‹</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="tobe_proposal.html" class="nav-link dropdown-trigger">ê³ ë„í™” ëª¨ë¸</a>
                    <div class="dropdown-menu">
                        <a href="tobe_proposal.html#phase1" class="dropdown-link">Phase 1: PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜</a>
                        <a href="tobe_proposal.html#phase2" class="dropdown-link">Phase 2: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰</a>
                        <a href="tobe_proposal.html#phase3" class="dropdown-link">Phase 3: LLM ì„±ëŠ¥ ìµœì í™”</a>
                        <a href="tobe_proposal.html#phase4" class="dropdown-link">Phase 4: ë°ì´í„° íŒŒì´í”„ë¼ì¸</a>
                        <a href="tobe_proposal.html#phase5" class="dropdown-link">Phase 5: Text-to-SQL</a>
                        <a href="tobe_proposal.html#phase6" class="dropdown-link">Phase 6: ì‚¬ìš©ì ê²½í—˜ ê°œì„ </a>
                        <a href="tobe_proposal.html#phase7" class="dropdown-link">Phase 7: ì—”í„°í”„ë¼ì´ì¦ˆ & ê³ ê¸‰ RAG</a>
                        <a href="tobe_proposal.html#roadmap" class="dropdown-link">Phase 8: ê¸°ìˆ  ìŠ¤íƒ ë¡œë“œë§µ</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="rocky-linux-migration-plan.html" class="nav-link dropdown-trigger active">ì„œë²„êµ¬ì¶•</a>
                    <div class="dropdown-menu">
                        <a href="rocky-linux-migration-plan.html#env-info" class="dropdown-link">í™˜ê²½ ì •ë³´</a>
                        <a href="rocky-linux-migration-plan.html#flowchart" class="dropdown-link">ì‘ì—… íë¦„ë„</a>
                        <a href="rocky-linux-migration-plan.html#step1" class="dropdown-link">Step 1: ì„œë²„ ê¸°ë³¸ ì„¤ì •</a>
                        <a href="rocky-linux-migration-plan.html#step2" class="dropdown-link">Step 2: ì†ŒìŠ¤ ì½”ë“œ ì „ì†¡</a>
                        <a href="rocky-linux-migration-plan.html#step3" class="dropdown-link">Step 3: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •</a>
                        <a href="rocky-linux-migration-plan.html#step4" class="dropdown-link">Step 4: ì‹¤í–‰ ë° ê²€ì¦</a>
                        <a href="rocky-linux-migration-plan.html#troubleshooting" class="dropdown-link">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</a>
                    </div>
                </li>
                <li><a href="index.html#contact" class="nav-link nav-cta">ë„ì… ë¬¸ì˜</a></li>
            </ul>
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="container">
            <div class="hero-content">
                <span class="hero-badge">Migration Guide</span>
                <h1 class="hero-title">
                    Rocky Linux 9.7<br>
                    <span class="gradient-text">ì„œë²„ êµ¬ì¶• ê³„íšì„œ</span>
                </h1>
                <p class="hero-description">
                    RAG ì‹œìŠ¤í…œì„ Windows í™˜ê²½ì—ì„œ Rocky Linux 9.7 (Blue Onyx) ì—”í„°í”„ë¼ì´ì¦ˆ ì„œë²„ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ìœ„í•œ
                    ìƒì„¸ êµ¬ì¶• ì ˆì°¨, í™˜ê²½ ì„¤ì •, íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œì…ë‹ˆë‹¤.
                </p>
                <div class="hero-buttons">
                    <a href="#env-info" class="btn btn-primary">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                        </svg>
                        ê°€ì´ë“œ ì‹œì‘í•˜ê¸°
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Environment Info -->
    <section class="section" id="env-info">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Environment</span>
                <h2 class="section-title">í™˜ê²½ ì •ë³´</h2>
            </div>

            <div class="table-container" style="margin-bottom: 2rem;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>í˜„ì¬ í™˜ê²½</th>
                            <th>ëŒ€ìƒ í™˜ê²½</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ìš´ì˜ì²´ì œ</strong></td>
                            <td>Windows 10</td>
                            <td>Rocky Linux 9.7 (Blue Onyx)</td>
                        </tr>
                        <tr>
                            <td><strong>ì„œë²„ IP</strong></td>
                            <td>localhost</td>
                            <td>192.168.2.14</td>
                        </tr>
                        <tr>
                            <td><strong>GPU</strong></td>
                            <td>(í˜„ì¬ GPU)</td>
                            <td>NVIDIA RTX PRO 4500 Blackwell</td>
                        </tr>
                        <tr>
                            <td><strong>ë„¤íŠ¸ì›Œí¬</strong></td>
                            <td>-</td>
                            <td>ì˜¨ë¼ì¸ í™˜ê²½</td>
                        </tr>
                        <tr>
                            <td><strong>ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜</strong></td>
                            <td>-</td>
                            <td>âŒ ì•ˆ í•¨ (Linuxì—ì„œ ìƒˆë¡œ ingest)</td>
                        </tr>
                        <tr>
                            <td><strong>ì†ŒìŠ¤ ì „ì†¡ ë°©ì‹</strong></td>
                            <td>-</td>
                            <td>FileZilla FTP</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--color-text-primary); margin-bottom: 1rem;">ì ‘ì† URL ì •ë³´</h3>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ì ‘ì†ì</th>
                            <th>URL</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ì¼ë°˜ ì‚¬ìš©ì</strong></td>
                            <td><code>http://192.168.2.14:8080/index1.html</code></td>
                            <td>ì‚¬ìš©ì ì „ìš© ì¸í„°í˜ì´ìŠ¤</td>
                        </tr>
                        <tr>
                            <td><strong>ìš´ì˜ ê´€ë¦¬ì</strong></td>
                            <td><code>http://192.168.2.14:8080</code></td>
                            <td>ê´€ë¦¬ì ì „ìš© ì¸í„°í˜ì´ìŠ¤</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Flowchart -->
    <section class="section" id="flowchart" style="background: var(--color-bg-secondary);">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Workflow</span>
                <h2 class="section-title">ì‘ì—… íë¦„ë„</h2>
            </div>

            <div class="mermaid">
                flowchart TB
                subgraph Phase1[1ë‹¨ê³„: ì„œë²„ ê¸°ë³¸ ì„¤ì •]
                A1[ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸] --> A2[í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜]
                A2 --> A3[Docker ì„¤ì¹˜]
                A3 --> A4[NVIDIA ë“œë¼ì´ë²„ ì„¤ì¹˜]
                A4 --> A5[NVIDIA Container Toolkit]
                A5 --> A6[ë°©í™”ë²½ Open]
                end

                subgraph Phase2[2ë‹¨ê³„: ì½”ë“œ ì „ì†¡]
                B1[FTP ì„¤ì •] --> B2[ì†ŒìŠ¤ ì „ì†¡]
                B2 --> B3[ê¶Œí•œ ì„¤ì •]
                end

                subgraph Phase3[3ë‹¨ê³„: í™˜ê²½ ì„¤ì •]
                C1[.env ìˆ˜ì •] --> C2[ë””ë ‰í† ë¦¬ ìƒì„±]
                end

                subgraph Phase4[4ë‹¨ê³„: ë¹Œë“œ ë° ì‹¤í–‰]
                D1[Docker ë¹Œë“œ] --> D2[ì„œë¹„ìŠ¤ ì‹œì‘]
                D2 --> D3[GPU í™•ì¸]
                end

                subgraph Phase5[5ë‹¨ê³„: ê²€ì¦]
                E1[í—¬ìŠ¤ì²´í¬] --> E2[UI/API í…ŒìŠ¤íŠ¸]
                E2 --> E3[ë°ì´í„° Ingest]
                end

                Phase1 --> Phase2 --> Phase3 --> Phase4 --> Phase5
            </div>
        </div>
    </section>

    <!-- Phase 1 -->
    <section class="section" id="step1">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Step 1</span>
                <h2 class="section-title">ì„œë²„ ê¸°ë³¸ ì„¤ì •</h2>
                <p class="section-description">Rocky Linux 9.7 OS ì„¤ì • ë° Docker/NVIDIA ë“œë¼ì´ë²„ ì„¤ì¹˜</p>
            </div>

            <div class="step-item" style="margin-bottom: 3rem;">
                <h3 class="step-title">1.1 ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ë° ì €ì¥ì†Œ ì„¤ì •</h3>
                <div class="code-block" data-lang="bash">
                    <code># ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo dnf update -y

# CRB(CodeReady Builder) í™œì„±í™” (ì˜ì¡´ì„± í•´ê²°ìš©)
sudo dnf config-manager --set-enabled crb

# EPEL ì €ì¥ì†Œ í™œì„±í™”
sudo dnf install -y epel-release

# í•„ìˆ˜ ìœ í‹¸ë¦¬í‹° ì„¤ì¹˜
sudo dnf install -y git curl wget vim tar unzip net-tools</code>
                </div>
            </div>

            <div class="step-item" style="margin-bottom: 3rem;">
                <h3 class="step-title">1.2 Docker ì„¤ì¹˜</h3>
                <div class="code-block" data-lang="bash">
                    <code># 1. Docker Repository ì¶”ê°€
sudo dnf config-manager --add-repo https://download.docker.com/linux/rhel/docker-ce.repo

# 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# 3. ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start docker
sudo systemctl enable docker

# 4. ê¶Œí•œ ë¶€ì—¬ (ì¬ë¡œê·¸ì¸ í•„ìš”)
sudo usermod -aG docker $USER
newgrp docker</code>
                </div>
            </div>

            <div class="step-item" style="margin-bottom: 3rem;">
                <h3 class="step-title">1.3 NVIDIA ë“œë¼ì´ë²„ ì„¤ì¹˜ (Rocky 9.7 ê¶Œì¥ ë°©ë²•)</h3>
                <div class="code-block" data-lang="bash">
                    <code># â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ì‚¬ì „ ì¤€ë¹„: ì»¤ë„ í—¤ë” ë° ë¹Œë“œ ë„êµ¬ ì„¤ì¹˜
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sudo dnf install -y kernel-devel-$(uname -r) kernel-headers-$(uname -r)
sudo dnf install -y dkms gcc make elfutils-libelf-devel

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Nouveau ì˜¤í”ˆì†ŒìŠ¤ ë“œë¼ì´ë²„ ë¹„í™œì„±í™” (ì¶©ëŒ ë°©ì§€)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
echo "blacklist nouveau" | sudo tee /etc/modprobe.d/blacklist-nouveau.conf
echo "options nouveau modeset=0" | sudo tee -a /etc/modprobe.d/blacklist-nouveau.conf
sudo dracut --force
sudo grubby --update-kernel=ALL --args="rd.driver.blacklist=nouveau modprobe.blacklist=nouveau"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CUDA ì €ì¥ì†Œ ì¶”ê°€ ë° ë“œë¼ì´ë²„ ì„¤ì¹˜
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sudo dnf config-manager --add-repo \
    https://developer.download.nvidia.com/compute/cuda/repos/rhel9/x86_64/cuda-rhel9.repo

# âš ï¸ ì•„ë˜ ëª…ë ¹ì€ Rocky 9.7ì—ì„œ nvidia-smi ì¸ì‹ ì‹¤íŒ¨ê°€ ë¹ˆë²ˆí•¨ (ì‚¬ìš© ê¸ˆì§€)
# sudo dnf module install -y nvidia-driver:latest-dkms

# âœ… ê¶Œì¥: cuda-drivers íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜
sudo dnf install -y cuda-drivers

# ì„¤ì¹˜ í›„ ë°˜ë“œì‹œ ì¬ë¶€íŒ…
sudo reboot</code>
                </div>
                <p class="command-desc">
                    <strong>ì¬ë¶€íŒ… í›„ í™•ì¸:</strong> <code>nvidia-smi</code> ëª…ë ¹ìœ¼ë¡œ NVIDIA RTX PRO 4500 Blackwell GPU ì •ë³´ì™€ ë“œë¼ì´ë²„ ë²„ì „ì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
                    ë§Œì•½ í‘œì‹œë˜ì§€ ì•Šìœ¼ë©´ ì•„ë˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì„¹ì…˜ì„ ì°¸ê³ í•˜ì„¸ìš”.
                </p>
            </div>

            <div class="step-item" style="margin-bottom: 3rem;">
                <h3 class="step-title">1.3.1 nvidia-smi ì •ìƒ í™•ì¸</h3>
                <div class="code-block" data-lang="bash">
                    <code># GPU ì¸ì‹ í™•ì¸ (ë°˜ë“œì‹œ ì¬ë¶€íŒ… í›„)
nvidia-smi

# ì •ìƒ ì¶œë ¥ ì˜ˆì‹œ:
# +-----------------------------------------------------------------------------------------+
# | NVIDIA-SMI 570.xx.xx    Driver Version: 570.xx.xx    CUDA Version: 12.x                 |
# |   GPU  Name             ...     Memory-Usage                                            |
# |   0    NVIDIA RTX PRO 4500 ...  0MiB / 24576MiB                                        |
# +-----------------------------------------------------------------------------------------+

# ë“œë¼ì´ë²„ ëª¨ë“ˆ ë¡œë“œ í™•ì¸
lsmod | grep nvidia

# ì»¤ë„ ë©”ì‹œì§€ì—ì„œ NVIDIA ê´€ë ¨ í™•ì¸
dmesg | grep -i nvidia</code>
                </div>
            </div>

            <div class="step-item" style="margin-bottom: 3rem;">
                <h3 class="step-title">1.3.2 NVIDIA Container Toolkit ì„¤ì¹˜ (Docker GPU ì§€ì›)</h3>
                <div class="code-block" data-lang="bash">
                    <code># 1. nvidia-smi ì •ìƒ ì¶œë ¥ í™•ì¸ í›„ ì§„í–‰
nvidia-smi

# 2. NVIDIA Container Toolkit ì €ì¥ì†Œ ì¶”ê°€
curl -s -L https://nvidia.github.io/libnvidia-container/stable/rpm/nvidia-container-toolkit.repo | \
    sudo tee /etc/yum.repos.d/nvidia-container-toolkit.repo

# 3. Toolkit ì„¤ì¹˜
sudo dnf install -y nvidia-container-toolkit

# 4. Docker ëŸ°íƒ€ì„ì— NVIDIA ë“±ë¡
sudo nvidia-ctk runtime configure --runtime=docker
sudo systemctl restart docker

# 5. Dockerì—ì„œ GPU í…ŒìŠ¤íŠ¸
docker run --rm --gpus all nvidia/cuda:12.1.1-base-ubuntu22.04 nvidia-smi</code>
                </div>
                <p class="command-desc">
                    Docker ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œë„ <code>nvidia-smi</code> ì¶œë ¥ì´ ë‚˜íƒ€ë‚˜ë©´ GPU íŒ¨ìŠ¤ìŠ¤ë£¨ ì„¤ì • ì™„ë£Œì…ë‹ˆë‹¤.
                </p>
            </div>

            <div class="step-item">
                <h3 class="step-title">1.4 ë°©í™”ë²½ ì„¤ì •</h3>
                <div class="code-block" data-lang="bash">
                    <code># FastAPI(8000), Tomcat(8080) í¬íŠ¸ ê°œë°©
sudo firewall-cmd --permanent --add-port=8000/tcp
sudo firewall-cmd --permanent --add-port=8080/tcp
sudo firewall-cmd --reload</code>
                </div>
            </div>
        </div>
    </section>

    <!-- Phase 2 -->
    <section class="section" id="step2" style="background: var(--color-bg-secondary);">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Step 2</span>
                <h2 class="section-title">ì†ŒìŠ¤ ì½”ë“œ ì „ì†¡</h2>
                <p class="section-description">FileZilla FTPë¥¼ ì´ìš©í•œ íŒŒì¼ ì—…ë¡œë“œ</p>
            </div>

            <div class="architecture-wrapper">
                <div class="architecture-info">
                    <h3 style="color: var(--color-text-primary); margin-bottom: 1rem;">ì „ì†¡ ëŒ€ìƒ ëª©ë¡</h3>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ê²½ë¡œ</th>
                                    <th>ì„¤ëª…</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>app/</code></td>
                                    <td>Python ë°±ì—”ë“œ ì†ŒìŠ¤</td>
                                </tr>
                                <tr>
                                    <td><code>docker/</code></td>
                                    <td>ì„œë¸Œ ì„œë¹„ìŠ¤ Dockerfile</td>
                                </tr>
                                <tr>
                                    <td><code>frontend/</code></td>
                                    <td>Web UI ì†ŒìŠ¤ (html, js, css)</td>
                                </tr>
                                <tr>
                                    <td><code>assets/</code></td>
                                    <td>ì–´íœ˜ ë°ì´í„° ë“±</td>
                                </tr>
                                <tr>
                                    <td><code>docker-compose.yml</code></td>
                                    <td>ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì„¤ì •</td>
                                </tr>
                                <tr>
                                    <td><code>requirements.txt</code></td>
                                    <td>ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡</td>
                                </tr>
                                <tr>
                                    <td><code>.env</code></td>
                                    <td>í™˜ê²½ ë³€ìˆ˜ íŒŒì¼</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="architecture-diagram">
                    <div class="info-card" style="background: var(--color-bg-tertiary);">
                        <div class="info-icon blue">ğŸ“‚</div>
                        <h4>ëŒ€ìƒ ë””ë ‰í† ë¦¬</h4>
                        <p><code>/home/[user]/rag</code></p>
                    </div>
                    <br>
                    <div class="code-block" data-lang="bash">
                        <code># ì „ì†¡ í›„ ê¶Œí•œ ì„¤ì •
cd ~/rag
chmod +x docker/tomcat/entrypoint.sh
chmod 600 .env
chmod -R 755 app/ frontend/ assets/
mkdir -p data/postgres data/models</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Phase 3 -->
    <section class="section" id="step3">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Step 3</span>
                <h2 class="section-title">í™˜ê²½ ë³€ìˆ˜ ì„¤ì •</h2>
            </div>

            <div class="step-item">
                <h3 class="step-title">.env íŒŒì¼ ì£¼ìš” ìˆ˜ì •ì‚¬í•­</h3>
                <div class="code-block" data-lang="bash">
                    <code># ì˜¨ë¼ì¸ ëª¨ë“œ í™œì„±í™” (ëª¨ë¸ ë‹¤ìš´ë¡œë“œ í—ˆìš©)
EMBED_MODEL_ALLOW_DOWNLOADS=1
INGEST_ALLOW_DOWNLOADS=1

# NVIDIA RTX PRO 4500 Blackwell ìµœì í™” (VRAM 24GB í™œìš©)
OLLAMA_NUM_CTX=4096
INGEST_BATCH_SIZE=8

# ê²½ë¡œ ì´ˆê¸°í™” (ìë™ ë‹¤ìš´ë¡œë“œ)
EMBED_MODEL_LOCAL_PATH=
RERANKER_MODEL=</code>
                </div>
            </div>
        </div>
    </section>

    <!-- Phase 4 -->
    <section class="section" id="step4" style="background: var(--color-bg-secondary);">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Step 4 & 5</span>
                <h2 class="section-title">ì‹¤í–‰ ë° ê²€ì¦</h2>
            </div>

            <div class="features-grid">
                <div class="card">
                    <div class="card-icon">ğŸ—ï¸</div>
                    <h3 class="card-title">ë¹Œë“œ & ì‹œì‘</h3>
                    <div class="code-block" data-lang="bash">
                        <code>docker compose build
docker compose up -d</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ‘€</div>
                    <h3 class="card-title">ìƒíƒœ í™•ì¸</h3>
                    <div class="code-block" data-lang="bash">
                        <code>docker compose ps
docker compose logs -f</code>
                    </div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <h3 class="step-title">ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 12px;">
                    <label class="checklist-item"><input type="checkbox" checked> <code>docker compose ps</code> ëª¨ë“  ì»¨í…Œì´ë„ˆ
                        Up ìƒíƒœ</label>
                    <label class="checklist-item"><input type="checkbox" checked> <code>nvidia-smi</code> GPU ì¸ì‹
                        ì •ìƒ</label>
                    <label class="checklist-item"><input type="checkbox"> <code>curl http://localhost:8000/health</code>
                        ì‘ë‹µ í™•ì¸</label>
                    <label class="checklist-item"><input type="checkbox"> ë¸Œë¼ìš°ì €
                        <code>http://192.168.2.14:8080/index1.html</code> ì ‘ì† ì„±ê³µ</label>
                    <label class="checklist-item"><input type="checkbox"> ì´ˆê¸° ë°ì´í„° Ingest ë¡œê·¸ í™•ì¸ (ìë™ ì‹œì‘)</label>
                </div>
            </div>
        </div>
    </section>

    <!-- Operational Scripts -->
    <section class="section" id="scripts">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Operations</span>
                <h2 class="section-title">ìš´ì˜ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸</h2>
                <p class="section-description">í¸ë¦¬í•œ ìš´ì˜ì„ ìœ„í•œ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (<code>~/rag/scripts/</code>)</p>
            </div>

            <div class="accordion">
                <div class="step-item">
                    <h4 class="step-title">start.sh</h4>
                    <div class="code-block" data-lang="bash">
                        <code>#!/bin/bash
cd "$(dirname "$0")/.."
echo "Starting RAG System..."
docker compose up -d
docker compose ps</code>
                    </div>
                </div>
                <div class="step-item">
                    <h4 class="step-title">logs.sh</h4>
                    <div class="code-block" data-lang="bash">
                        <code>#!/bin/bash
cd "$(dirname "$0")/.."
SERVICE=${1:-""}
if [ -z "$SERVICE" ]; then
    docker compose logs -f
else
    docker compose logs -f $SERVICE
fi</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ingest Guide -->
    <section class="section" id="ingest" style="background: var(--color-bg-secondary);">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Data Ingest</span>
                <h2 class="section-title">ì´ˆê¸° ë°ì´í„° ì ì¬</h2>
            </div>
            <div class="architecture-wrapper">
                <div class="architecture-info">
                    <p>
                        ìƒˆë¡œìš´ Linux í™˜ê²½ì—ì„œëŠ” ê¸°ì¡´ Windows ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•Šê³ ,
                        <strong>ì²˜ìŒë¶€í„° ë‹¤ì‹œ Ingest</strong>ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                    </p>
                    <ul style="margin-top: 1rem; list-style: none; padding-left: 0;">
                        <li style="margin-bottom: 0.5rem;">âœ… <strong>ìë™ ì‹œì‘</strong>: <code>TOPIK_VOCAB_ENABLED=1</code>
                            ì„¤ì • ì‹œ êµ¬ë™ í›„ ìë™ ìˆ˜í–‰</li>
                        <li style="margin-bottom: 0.5rem;">âœ… <strong>ìˆ˜ë™ íŠ¸ë¦¬ê±°</strong>: APIë¥¼ í†µí•´ íŠ¹ì • ì†ŒìŠ¤ ì ì¬ ìš”ì²­</li>
                        <li>âœ… <strong>í™•ì¸</strong>: DB ì¡°íšŒë¡œ ë²¡í„° ìˆ˜ í™•ì¸</li>
                    </ul>
                </div>
                <div class="architecture-diagram">
                    <div class="code-block" data-lang="bash">
                        <code># ìˆ˜ë™ Ingest ìš”ì²­
curl -X POST http://192.168.2.14:8000/ingest/trigger

# ì ì¬ ë°ì´í„° ìˆ˜ í™•ì¸
docker exec -it rag-postgres psql -U rag_user -d rag \
  -c "SELECT source_type, COUNT(*) FROM embeddings GROUP BY source_type;"</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Troubleshooting -->
    <section class="section" id="troubleshooting">
        <div class="container">
            <div class="section-header">
                <span class="section-label">FAQ</span>
                <h2 class="section-title">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>
            </div>

            <div class="troubleshoot-card">
                <div class="troubleshoot-title">âš ï¸ nvidia-smi ëª…ë ¹ ì‹¤íŒ¨ / "command not found"</div>
                <p>ë“œë¼ì´ë²„ ì„¤ì¹˜ í›„ <code>nvidia-smi</code>ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°</p>
                <div class="command-desc">
                    <strong>ì›ì¸ 1: Nouveau ë“œë¼ì´ë²„ ì¶©ëŒ</strong><br>
                    <code>lsmod | grep nouveau</code> â€” ì¶œë ¥ì´ ìˆìœ¼ë©´ Nouveauê°€ ì•„ì§ í™œì„± ìƒíƒœì…ë‹ˆë‹¤.<br>
                    <code>echo "blacklist nouveau" | sudo tee /etc/modprobe.d/blacklist-nouveau.conf</code><br>
                    <code>sudo dracut --force && sudo reboot</code>
                </div>
                <div class="command-desc" style="margin-top: 0.75rem;">
                    <strong>ì›ì¸ 2: dnf module ë°©ì‹ ì„¤ì¹˜ ì‹¤íŒ¨</strong><br>
                    Rocky 9.7ì—ì„œ <code>dnf module install nvidia-driver:latest-dkms</code>ëŠ” ëª¨ë“ˆ ìŠ¤íŠ¸ë¦¼ ë¬¸ì œë¡œ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.<br>
                    ê¸°ì¡´ ì„¤ì¹˜ë¥¼ ì œê±°í•˜ê³  <code>cuda-drivers</code>ë¡œ ì¬ì„¤ì¹˜í•˜ì„¸ìš”:<br>
                    <code>sudo dnf remove -y nvidia-driver* cuda-drivers*</code><br>
                    <code>sudo dnf install -y cuda-drivers && sudo reboot</code>
                </div>
                <div class="command-desc" style="margin-top: 0.75rem;">
                    <strong>ì›ì¸ 3: ì»¤ë„ í—¤ë” ë¶ˆì¼ì¹˜</strong><br>
                    ì»¤ë„ ì—…ë°ì´íŠ¸ í›„ í—¤ë”ê°€ ë§ì§€ ì•Šìœ¼ë©´ DKMS ë¹Œë“œê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤.<br>
                    <code>sudo dnf install -y kernel-devel-$(uname -r) kernel-headers-$(uname -r)</code><br>
                    <code>sudo dkms autoinstall && sudo reboot</code>
                </div>
                <div class="command-desc" style="margin-top: 0.75rem;">
                    <strong>ì›ì¸ 4: Secure Boot í™œì„± ìƒíƒœ</strong><br>
                    UEFI Secure Bootê°€ ì¼œì ¸ ìˆìœ¼ë©´ ì„œëª…ë˜ì§€ ì•Šì€ ì»¤ë„ ëª¨ë“ˆì´ ë¡œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
                    BIOSì—ì„œ Secure Bootë¥¼ ë¹„í™œì„±í™”í•˜ê±°ë‚˜, MOK(Machine Owner Key) ë“±ë¡ì´ í•„ìš”í•©ë‹ˆë‹¤.<br>
                    <code>mokutil --sb-state</code> â€” Secure Boot ìƒíƒœ í™•ì¸
                </div>
            </div>

            <div class="troubleshoot-card">
                <div class="troubleshoot-title">âš ï¸ nvidia-smiëŠ” ë˜ì§€ë§Œ Docker GPU ì‹¤íŒ¨</div>
                <p><code>docker run --gpus all ...</code> ì—ëŸ¬ ë°œìƒ ì‹œ</p>
                <div class="command-desc">
                    í˜¸ìŠ¤íŠ¸ì—ì„œ <code>nvidia-smi</code>ê°€ ì •ìƒì´ë¼ë©´ NVIDIA Container Toolkit ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.<br>
                    <code>sudo nvidia-ctk runtime configure --runtime=docker</code><br>
                    <code>sudo systemctl restart docker</code><br>
                    <code>docker run --rm --gpus all nvidia/cuda:12.1.1-base-ubuntu22.04 nvidia-smi</code><br><br>
                    ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ë©´ <code>/etc/docker/daemon.json</code>ì— nvidia ëŸ°íƒ€ì„ì´ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸:<br>
                    <code>cat /etc/docker/daemon.json</code> â€” <code>"nvidia"</code> ëŸ°íƒ€ì„ í•­ëª©ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
                </div>
            </div>

            <div class="troubleshoot-card">
                <div class="troubleshoot-title">âš ï¸ í¬íŠ¸ ì¶©ëŒ (Address already in use)</div>
                <p>8080, 8000 í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘</p>
                <div class="command-desc">
                    <code>sudo ss -tulpn | grep 8080</code> ìœ¼ë¡œ ì ìœ  í”„ë¡œì„¸ìŠ¤ í™•ì¸ í›„ ì¢…ë£Œ (<code>kill -9 [PID]</code>).
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span>ğŸ§ </span> RAG System
                    </div>
                    <p class="footer-desc">
                        FastAPI, LlamaIndex, PostgreSQL + pgvector ê¸°ë°˜ì˜ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ RAG í”Œë«í¼.<br>
                        Rocky Linux 9.7 ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ.
                    </p>
                </div>
                <div class="footer-nav">
                    <h4>ë©”ë‰´</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">ì œì•ˆì„œ</a></li>
                        <li><a href="architecture.html">ì•„í‚¤í…ì²˜</a></li>
                        <li><a href="tobe_proposal.html">ê³ ë„í™” ëª¨ë¸</a></li>
                    </ul>
                </div>
                <div class="footer-nav">
                    <h4>ê°€ì´ë“œ ì„¹ì…˜</h4>
                    <ul class="footer-links">
                        <li><a href="#step1">Phase 1: ì„¤ì •</a></li>
                        <li><a href="#step4">Phase 4: ì‹¤í–‰</a></li>
                        <li><a href="#troubleshooting">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">
                    Â© 2026 RAG System. Last Updated: 2026-02-14
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Add Copy Buttons
        document.querySelectorAll('.code-block').forEach(block => {
            const btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.innerHTML = 'ğŸ“‹ Copy';

            btn.addEventListener('click', async () => {
                const code = block.querySelector('code').innerText;
                try {
                    await navigator.clipboard.writeText(code);
                    btn.innerHTML = 'âœ… Copied!';
                    setTimeout(() => btn.innerHTML = 'ğŸ“‹ Copy', 2000);
                } catch (err) {
                    console.error('Failed to copy', err);
                    btn.innerHTML = 'âŒ Error';
                }
            });
            block.appendChild(btn);
        });

        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            securityLevel: 'loose',
            fontFamily: 'Inter, sans-serif'
        });

        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');

        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Animation observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.step-item, .card, .troubleshoot-card, .info-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
    <script src="bg-ai-pattern.js?v=20260214"></script>
</body>

</html>